<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>中国动漫产业发展深度报告 - 数据新闻</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts-gl@2.0.9/dist/echarts-gl.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios@1.6.7/dist/axios.min.js"></script>
    <style>
        /* ==========================================================================
           全局样式重置与基础设置
           ========================================================================== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            font-size: 16px;
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Noto Sans SC', sans-serif;
            background: linear-gradient(135deg, #f8f9fc 0%, #eef2f7 100%);
            color: #2c3e50;
            line-height: 1.6;
            overflow-x: hidden;
            position: relative;
        }

        /* 背景装饰元素 */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 10% 20%, rgba(255, 215, 0, 0.03) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(255, 107, 107, 0.03) 0%, transparent 20%),
                radial-gradient(circle at 50% 50%, rgba(78, 205, 196, 0.02) 0%, transparent 30%);
            z-index: -1;
            pointer-events: none;
        }

        /* ==========================================================================
           导航栏样式 - 玻璃拟态效果
           ========================================================================== */
        .navbar {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(0, 0, 0, 0.08);
            z-index: 1000;
            padding: 18px 0;
            transition: all 0.3s ease;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.05);
        }

        .navbar.scrolled {
            padding: 12px 0;
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 40px;
        }

        .logo {
            font-size: 24px;
            font-weight: 800;
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 50%, #e67e22 100%);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradientShift 4s ease infinite;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .logo:hover {
            transform: scale(1.05);
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .nav-links {
            display: flex;
            gap: 30px;
            list-style: none;
        }

        .nav-links a {
            color: #2c3e50;
            text-decoration: none;
            font-size: 16px;
            font-weight: 500;
            position: relative;
            padding: 8px 0;
            transition: all 0.3s;
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, #3498db, #e67e22);
            transition: width 0.3s;
            border-radius: 2px;
        }

        .nav-links a:hover {
            color: #3498db;
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        /* ==========================================================================
           主容器布局
           ========================================================================== */
        .main-container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 120px 40px 80px;
        }

        /* ==========================================================================
           标题区域 - 动态渐变背景
           ========================================================================== */
        .hero-section {
            text-align: center;
            padding: 100px 0 80px;
            position: relative;
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.05) 0%, rgba(52, 152, 219, 0.05) 100%);
            border-radius: 30px;
            margin-bottom: 80px;
            overflow: hidden;
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 215, 0, 0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .main-title {
            font-size: 72px;
            font-weight: 900;
            margin-bottom: 25px;
            position: relative;
            z-index: 1;
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 50%, #e67e22 100%);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradientShift 6s ease infinite;
            line-height: 1.1;
        }

        .subtitle {
            font-size: 28px;
            color: #7f8c8d;
            margin-bottom: 40px;
            position: relative;
            z-index: 1;
            font-weight: 300;
        }

        .highlight-text {
            font-size: 20px;
            color: #34495e;
            margin-bottom: 60px;
            position: relative;
            z-index: 1;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
            font-weight: 400;
            line-height: 1.8;
        }

        /* ==========================================================================
           分节样式
           ========================================================================== */
        .section {
            margin: 120px 0;
            scroll-margin-top: 120px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            padding: 60px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(0, 0, 0, 0.03);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .section:hover {
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.08);
            transform: translateY(-5px);
        }

        .section-header {
            display: flex;
            align-items: center;
            margin-bottom: 50px;
            gap: 25px;
            position: relative;
        }

        .section-number {
            font-size: 88px;
            font-weight: 900;
            background: linear-gradient(135deg, #3498db 0%, #e67e22 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            line-height: 1;
            font-family: 'Georgia', serif;
        }

        .section-title {
            font-size: 42px;
            font-weight: 800;
            color: #2c3e50;
            margin: 0;
            flex: 1;
        }

        .section-description {
            font-size: 18px;
            color: #7f8c8d;
            margin-left: 120px;
            margin-bottom: 50px;
            max-width: 850px;
            line-height: 1.8;
            font-weight: 400;
        }

        /* ==========================================================================
           数据卡片样式
           ========================================================================== */
        .data-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin: 50px 0;
        }

        .data-card {
            background: linear-gradient(135deg, rgba(52, 152, 219, 0.05) 0%, rgba(230, 126, 34, 0.05) 100%);
            border: 1px solid rgba(52, 152, 219, 0.1);
            border-radius: 20px;
            padding: 35px 25px;
            text-align: center;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
        }

        .data-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, #3498db, #e67e22);
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.4s;
        }

        .data-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 20px 40px rgba(52, 152, 219, 0.15);
            border-color: rgba(52, 152, 219, 0.3);
        }

        .data-card:hover::before {
            transform: scaleX(1);
        }

        .card-value {
            font-size: 42px;
            font-weight: 900;
            color: #2c3e50;
            margin-bottom: 10px;
            position: relative;
        }

        .card-value::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 3px;
            background: linear-gradient(90deg, #3498db, #e67e22);
            border-radius: 2px;
        }

        .card-label {
            font-size: 17px;
            color: #7f8c8d;
            margin-bottom: 15px;
            font-weight: 500;
        }

        .card-change {
            font-size: 15px;
            margin-top: 15px;
            padding: 6px 12px;
            border-radius: 20px;
            display: inline-block;
            font-weight: 600;
            transition: transform 0.3s;
        }

        .card-change:hover {
            transform: scale(1.1);
        }

        .positive { 
            background: rgba(39, 174, 96, 0.1); 
            color: #27ae60; 
            border: 1px solid rgba(39, 174, 96, 0.2);
        }
        .negative { 
            background: rgba(231, 76, 60, 0.1); 
            color: #e74c3c; 
            border: 1px solid rgba(231, 76, 60, 0.2);
        }
        .neutral { 
            background: rgba(243, 156, 18, 0.1); 
            color: #f39c12; 
            border: 1px solid rgba(243, 156, 18, 0.2);
        }

        /* ==========================================================================
           图表网格布局
           ========================================================================== */
        .chart-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(600px, 1fr));
            gap: 40px;
            margin: 50px 0;
        }

        .chart-container {
            background: rgba(255, 255, 255, 0.98);
            border: 1px solid rgba(52, 152, 219, 0.08);
            border-radius: 25px;
            padding: 35px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.05);
            transition: all 0.4s;
            position: relative;
            overflow: hidden;
        }

        .chart-container::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(52, 152, 219, 0.02) 0%, rgba(230, 126, 34, 0.02) 100%);
            z-index: -1;
        }

        .chart-container:hover {
            box-shadow: 0 15px 40px rgba(52, 152, 219, 0.15);
            border-color: rgba(52, 152, 219, 0.2);
            transform: translateY(-3px);
        }

        .chart-title {
            font-size: 26px;
            font-weight: 700;
            margin-bottom: 12px;
            color: #2c3e50;
            position: relative;
            padding-bottom: 10px;
        }

        .chart-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 3px;
            background: linear-gradient(90deg, #3498db, #e67e22);
            border-radius: 2px;
        }

        .chart-subtitle {
            font-size: 15px;
            color: #95a5a6;
            margin-bottom: 25px;
            font-weight: 400;
        }

        .chart {
            width: 100%;
            height: 420px;
        }

        .full-width-chart {
            grid-column: 1 / -1;
        }

        .full-width-chart .chart {
            height: 520px;
        }

        /* ==========================================================================
           时间轴样式
           ========================================================================== */
        .timeline {
            position: relative;
            padding: 50px 0;
            margin: 50px 0;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 3px;
            background: linear-gradient(to bottom, #3498db, #e67e22);
            transform: translateX(-50%);
            border-radius: 3px;
        }

        .timeline-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 60px 0;
            position: relative;
        }

        .timeline-item:nth-child(odd) {
            flex-direction: row-reverse;
        }

        .timeline-content {
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid rgba(52, 152, 219, 0.1);
            border-radius: 20px;
            padding: 35px;
            width: 45%;
            position: relative;
            transition: all 0.4s;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.05);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
        }

        .timeline-content:hover {
            box-shadow: 0 15px 35px rgba(52, 152, 219, 0.15);
            transform: scale(1.03);
            border-color: rgba(52, 152, 219, 0.2);
        }

        .timeline-year {
            font-size: 28px;
            font-weight: 800;
            color: #3498db;
            margin-bottom: 12px;
            font-family: 'Georgia', serif;
        }

        .timeline-title {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 12px;
            color: #2c3e50;
        }

        .timeline-desc {
            font-size: 15px;
            color: #7f8c8d;
            line-height: 1.7;
            font-weight: 400;
        }

        .timeline-dot {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 18px;
            height: 18px;
            background: #e67e22;
            border: 4px solid #fff;
            border-radius: 50%;
            z-index: 2;
            animation: dotPulse 2s ease-in-out infinite;
            box-shadow: 0 0 0 0 rgba(230, 126, 34, 0.7);
        }

        @keyframes dotPulse {
            0% { box-shadow: 0 0 0 0 rgba(230, 126, 34, 0.7); }
            70% { box-shadow: 0 0 0 12px rgba(230, 126, 34, 0); }
            100% { box-shadow: 0 0 0 0 rgba(230, 126, 34, 0); }
        }

        /* ==========================================================================
           对比表格样式
           ========================================================================== */
        .comparison-table {
            background: rgba(255, 255, 255, 0.98);
            border: 1px solid rgba(52, 152, 219, 0.08);
            border-radius: 25px;
            overflow: hidden;
            margin: 50px 0;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.05);
            transition: all 0.4s;
        }

        .comparison-table:hover {
            box-shadow: 0 15px 40px rgba(52, 152, 219, 0.1);
        }

        .table-header {
            background: linear-gradient(135deg, rgba(52, 152, 219, 0.1) 0%, rgba(230, 126, 34, 0.1) 100%);
            padding: 25px 30px;
            font-size: 22px;
            font-weight: 800;
            color: #2c3e50;
            border-bottom: 1px solid rgba(52, 152, 219, 0.1);
        }

        .table-row {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            padding: 25px 30px;
            border-bottom: 1px solid rgba(52, 152, 219, 0.05);
            transition: all 0.3s;
            cursor: pointer;
        }

        .table-row:hover {
            background: rgba(52, 152, 219, 0.03);
            transform: translateX(5px);
        }

        .table-row:last-child {
            border-bottom: none;
        }

        .table-cell {
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .cell-label {
            font-size: 14px;
            color: #95a5a6;
            margin-bottom: 6px;
            font-weight: 500;
        }

        .cell-value {
            font-size: 20px;
            font-weight: 700;
            color: #2c3e50;
        }

        /* ==========================================================================
           结论区域样式
           ========================================================================== */
        .conclusion {
            background: linear-gradient(135deg, rgba(52, 152, 219, 0.08) 0%, rgba(230, 126, 34, 0.08) 100%);
            border: 1px solid rgba(52, 152, 219, 0.15);
            border-radius: 30px;
            padding: 80px 60px;
            margin-top: 100px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .conclusion::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(255, 215, 0, 0.05) 0%, transparent 30%),
                radial-gradient(circle at 80% 70%, rgba(230, 126, 34, 0.05) 0%, transparent 30%);
            z-index: -1;
        }

        .conclusion-title {
            font-size: 42px;
            font-weight: 900;
            color: #2c3e50;
            margin-bottom: 35px;
            position: relative;
        }

        .conclusion-title::after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: linear-gradient(90deg, #3498db, #e67e22);
            border-radius: 2px;
        }

        .conclusion-text {
            font-size: 20px;
            line-height: 1.8;
            color: #7f8c8d;
            max-width: 1000px;
            margin: 0 auto;
            font-weight: 400;
        }

        /* ==========================================================================
           控制面板样式
           ========================================================================== */
        .control-panel {
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid rgba(52, 152, 219, 0.1);
            border-radius: 20px;
            padding: 30px;
            margin: 40px 0;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.05);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
        }

        .control-title {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 25px;
            color: #2c3e50;
        }

        .control-group {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            align-items: center;
        }

        .control-item {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .control-item label {
            font-size: 14px;
            color: #7f8c8d;
            font-weight: 500;
        }

        .control-item select,
        .control-item input {
            padding: 10px 15px;
            border: 1px solid rgba(52, 152, 219, 0.2);
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.8);
            font-size: 14px;
            transition: all 0.3s;
        }

        .control-item select:focus,
        .control-item input:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        .control-button {
            padding: 12px 24px;
            background: linear-gradient(135deg, #3498db, #e67e22);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 20px;
        }

        .control-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
        }

        /* ==========================================================================
           动画样式
           ========================================================================== */
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .slide-in-left {
            opacity: 0;
            transform: translateX(-50px);
            transition: all 0.8s ease;
        }

        .slide-in-right {
            opacity: 0;
            transform: translateX(50px);
            transition: all 0.8s ease;
        }

        .slide-in-left.visible,
        .slide-in-right.visible {
            opacity: 1;
            transform: translateX(0);
        }

        .scale-in {
            opacity: 0;
            transform: scale(0.8);
            transition: all 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .scale-in.visible {
            opacity: 1;
            transform: scale(1);
        }

        /* ==========================================================================
           加载动画
           ========================================================================== */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(248, 249, 252, 0.98);
            z-index: 9999;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }

        .loading-overlay.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .spinner {
            width: 80px;
            height: 80px;
            border: 6px solid rgba(52, 152, 219, 0.1);
            border-top: 6px solid #3498db;
            border-right: 6px solid #e67e22;
            border-radius: 50%;
            animation: spin 1.2s cubic-bezier(0.5, 0.1, 0.5, 0.9) infinite;
        }

        .loading-text {
            font-size: 28px;
            margin-top: 25px;
            color: #3498db;
            font-weight: 700;
            position: relative;
        }

        .loading-text::after {
            content: '...';
            position: absolute;
            animation: dots 1.5s infinite;
        }

        @keyframes dots {
            0%, 20% { content: '.'; }
            40% { content: '..'; }
            60%, 100% { content: '...'; }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* 加载进度条 */
        .loading-progress {
            width: 300px;
            height: 6px;
            background: rgba(52, 152, 219, 0.1);
            border-radius: 3px;
            margin-top: 20px;
            overflow: hidden;
        }

        .loading-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #3498db, #e67e22);
            border-radius: 3px;
            width: 0%;
            transition: width 0.3s ease;
        }

        /* ==========================================================================
           进度条样式
           ========================================================================== */
        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            width: 0%;
            height: 4px;
            background: linear-gradient(90deg, #3498db, #e67e22);
            z-index: 1001;
            transition: width 0.3s ease;
            box-shadow: 0 2px 10px rgba(52, 152, 219, 0.3);
        }

        /* ==========================================================================
           响应式设计
           ========================================================================== */
        @media (max-width: 768px) {
            .main-title { font-size: 48px; }
            .section-title { font-size: 32px; }
            .section-number { font-size: 64px; }
            .hero-section { padding: 70px 20px; }
            .section { padding: 40px 25px; }
            .nav-links { display: none; }
            .chart-grid { grid-template-columns: 1fr; }
            .timeline::before { left: 30px; }
            .timeline-item { flex-direction: column !important; }
            .timeline-content { width: calc(100% - 70px); margin-left: 70px; }
            .timeline-dot { left: 30px; }
            .nav-container { padding: 0 20px; }
            .main-container { padding: 100px 20px 60px; }
        }

        @media (max-width: 480px) {
            .main-title { font-size: 36px; }
            .card-value { font-size: 32px; }
            .section { padding: 30px 20px; }
            .section-description { margin-left: 0; }
        }

        /* ==========================================================================
           错误提示样式
           ========================================================================== */
        .error-message {
            background: rgba(231, 76, 60, 0.1);
            border: 1px solid rgba(231, 76, 60, 0.2);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            color: #e74c3c;
            font-weight: 500;
            display: none;
        }

        .error-message.visible {
            display: block;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* ==========================================================================
           响应式设计
           ========================================================================== */
        @media (max-width: 768px) {
            .main-title { font-size: 48px; }
            .section-title { font-size: 32px; }
            .section-number { font-size: 64px; }
            .hero-section { padding: 70px 20px; }
            .section { padding: 40px 25px; }
            .nav-links { display: none; }
            .chart-grid { grid-template-columns: 1fr; }
            .timeline::before { left: 30px; }
            .timeline-item { flex-direction: column !important; }
            .timeline-content { width: calc(100% - 70px); margin-left: 70px; }
            .timeline-dot { left: 30px; }
            .nav-container { padding: 0 20px; }
            .main-container { padding: 100px 20px 60px; }
        }

        @media (max-width: 480px) {
            .main-title { font-size: 36px; }
            .card-value { font-size: 32px; }
            .section { padding: 30px 20px; }
            .section-description { margin-left: 0; }
        }

        /* ==========================================================================
           高级动画效果
           ========================================================================== */
        .floating {
            animation: floating 3s ease-in-out infinite;
        }

        @keyframes floating {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }

        .pulse-glow {
            animation: pulseGlow 2s ease-in-out infinite;
        }

        @keyframes pulseGlow {
            0% { box-shadow: 0 0 0 0 rgba(52, 152, 219, 0.4); }
            70% { box-shadow: 0 0 0 15px rgba(52, 152, 219, 0); }
            100% { box-shadow: 0 0 0 0 rgba(52, 152, 219, 0); }
        }

        /* ==========================================================================
           响应式设计
           ========================================================================== */
        @media (max-width: 768px) {
            .main-title { font-size: 48px; }
            .section-title { font-size: 32px; }
            .section-number { font-size: 64px; }
            .hero-section { padding: 70px 20px; }
            .section { padding: 40px 25px; }
            .nav-links { display: none; }
            .chart-grid { grid-template-columns: 1fr; }
            .timeline::before { left: 30px; }
            .timeline-item { flex-direction: column !important; }
            .timeline-content { width: calc(100% - 70px); margin-left: 70px; }
            .timeline-dot { left: 30px; }
            .nav-container { padding: 0 20px; }
            .main-container { padding: 100px 20px 60px; }
        }

        @media (max-width: 480px) {
            .main-title { font-size: 36px; }
            .card-value { font-size: 32px; }
            .section { padding: 30px 20px; }
            .section-description { margin-left: 0; }
        }

        /* ==========================================================================
           响应式设计
           ========================================================================== */
        @media (max-width: 768px) {
            .main-title { font-size: 48px; }
            .section-title { font-size: 32px; }
            .section-number { font-size: 64px; }
            .hero-section { padding: 70px 20px; }
            .section { padding: 40px 25px; }
            .nav-links { display: none; }
            .chart-grid { grid-template-columns: 1fr; }
            .timeline::before { left: 30px; }
            .timeline-item { flex-direction: column !important; }
            .timeline-content { width: calc(100% - 70px); margin-left: 70px; }
            .timeline-dot { left: 30px; }
            .nav-container { padding: 0 20px; }
            .main-container { padding: 100px 20px 60px; }
        }

        @media (max-width: 480px) {
            .main-title { font-size: 36px; }
            .card-value { font-size: 32px; }
            .section { padding: 30px 20px; }
            .section-description { margin-left: 0; }
        }
    </style>
</head>
<body>
    <!-- 加载动画 -->
    <div class="loading-overlay" id="loading">
        <div class="spinner"></div>
        <div class="loading-text">数据加载中</div>
        <div class="loading-progress">
            <div class="loading-progress-bar" id="loadingProgress"></div>
        </div>
    </div>

    <!-- 滚动进度条 -->
    <div class="progress-bar" id="progressBar"></div>

    <!-- 导航栏 -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <div class="logo" onclick="scrollToTop()">中国动漫产业报告</div>
            <ul class="nav-links">
                <li><a href="#development">发展历程</a></li>
                <li><a href="#scale">产业规模</a></li>
                <li><a href="#ip">IP变现</a></li>
                <li><a href="#experience">落地体验</a></li>
                <li><a href="#global">出海表现</a></li>
            </ul>
        </div>
    </nav>

    <!-- 主容器 -->
    <main class="main-container">
        <!-- 标题部分 -->
        <section class="hero-section fade-in">
            <h1 class="main-title">中国动漫产业发展深度报告</h1>
            <p class="subtitle">2024年度数据新闻 · 五大核心维度全景分析</p>
            <p class="highlight-text">
                从"中国学派"到资本爆发，从低龄化到全龄化转型，<br>
                中国动漫产业正在经历深刻变革。本报告通过数据可视化，<br>
                深入剖析产业发展的五大核心维度，洞察未来趋势。
            </p>
        </section>

        <!-- 发展历程 -->
        <section class="section fade-in" id="development">
            <div class="section-header slide-in-left">
                <div class="section-number">01</div>
                <h2 class="section-title">发展历程</h2>
            </div>
            <p class="section-description slide-in-left">
                从1926年"中国学派"的奠基到2013年后的资本爆发期，中国动漫产业经历了从艺术探索到产业化运营的深刻转型。
                这一过程不仅体现了创作理念的变迁，更反映了市场需求、技术革新与文化政策的多重作用。
                通过时间轴回顾关键节点，理解产业发展的内在逻辑。
            </p>

            <!-- 重要里程碑时间轴 -->
            <div class="timeline scale-in">
                <div class="timeline-item">
                    <div class="timeline-content">
                        <div class="timeline-year">1926年</div>
                        <div class="timeline-title">中国学派奠基</div>
                        <div class="timeline-desc">
                            万氏兄弟创作中国第一部动画《大闹画室》，开创民族动画先河，奠定"中国学派"艺术追求。
                            这一时期强调民族风格和文化内涵，形成了独特的东方美学体系。
                        </div>
                    </div>
                    <div class="timeline-dot"></div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-content">
                        <div class="timeline-year">1960-1980年代</div>
                        <div class="timeline-title">艺术黄金期</div>
                        <div class="timeline-desc">
                            以上海美术电影制片厂为代表，创作《大闹天宫》《哪吒闹海》等经典，获国际赞誉但市场化程度低。
                            水墨动画、剪纸动画等技法达到世界领先水平。
                        </div>
                    </div>
                    <div class="timeline-dot"></div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-content">
                        <div class="timeline-year">1990-2000年代</div>
                        <div class="timeline-title">市场化探索期</div>
                        <div class="timeline-desc">
                            央视动画、蓝猫淘气等开始商业化尝试，但内容仍局限低龄化，产业链不成熟。
                            这一时期开始引入市场经济理念，但缺乏完整的产业生态支撑。
                        </div>
                    </div>
                    <div class="timeline-dot"></div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-content">
                        <div class="timeline-year">2013年后</div>
                        <div class="timeline-title">资本爆发与全龄化转型</div>
                        <div class="timeline-desc">
                            互联网资本涌入，B站、腾讯、爱奇艺等平台崛起，《大圣归来》开启全龄化新纪元。
                            技术革新与商业模式创新推动产业快速发展。
                        </div>
                    </div>
                    <div class="timeline-dot"></div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-content">
                        <div class="timeline-year">2019年至今</div>
                        <div class="timeline-title">IP化与产业升级</div>
                        <div class="timeline-desc">
                            《哪吒》《姜子牙》等现象级作品涌现，衍生品市场爆发，产业链日趋完善。
                            国漫崛起成为文化现象，产业向高质量发展转型。
                        </div>
                    </div>
                    <div class="timeline-dot"></div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-content">
                        <div class="timeline-year">2024-2025</div>
                        <div class="timeline-title">国际化与科技融合</div>
                        <div class="timeline-desc">
                            AIGC技术深度应用，虚拟偶像兴起，海外市场拓展加速。
                            产业进入数字化、智能化、国际化发展新阶段。
                        </div>
                    </div>
                    <div class="timeline-dot"></div>
                </div>
            </div>

            <!-- 产量与质量变化趋势 -->
            <div class="chart-container full-width-chart scale-in">
                <h3 class="chart-title">中国动画产量与票房收入趋势（2010-2023）</h3>
                <p class="chart-subtitle">反映产业从量变到质变的发展轨迹，产量增速与票房增长的相关性分析</p>
                <div class="chart" id="developmentTrendChart"></div>
            </div>

            <!-- 技术革新对比 -->
            <div class="chart-grid">
                <div class="chart-container scale-in">
                    <h3 class="chart-title">制作技术演进路径</h3>
                    <p class="chart-subtitle">从手绘到数字化的技术变革</p>
                    <div class="chart" id="techEvolutionChart"></div>
                </div>

                <div class="chart-container scale-in">
                    <h3 class="chart-title">题材类型多元化趋势</h3>
                    <p class="chart-subtitle">神话、科幻、现实题材占比变化</p>
                    <div class="chart" id="genreTrendChart"></div>
                </div>
            </div>
        </section>

        <!-- 产业规模 -->
        <section class="section fade-in" id="scale">
            <div class="section-header slide-in-left">
                <div class="section-number">02</div>
                <h2 class="section-title">产业规模</h2>
            </div>
            <p class="section-description slide-in-left">
                中国动漫产业市场规模快速增长，2023年衍生品市场规模突破1400亿元。然而，与日本相比，IP长尾变现能力仍需提升。
                数据显示，产业整体呈现"前端强、后端弱"的特征，产业链各环节协同发展是未来重点。
            </p>

            <!-- 核心数据卡片 -->
            <div class="data-cards scale-in">
                <div class="data-card floating">
                    <div class="card-value">2,347亿</div>
                    <div class="card-label">2023年总产值</div>
                    <div class="card-change positive">+12.8% YoY</div>
                </div>
                <div class="data-card floating">
                    <div class="card-value">1,420亿</div>
                    <div class="card-label">衍生品市场规模</div>
                    <div class="card-change positive">+15.3% YoY</div>
                </div>
                <div class="data-card floating">
                    <div class="card-value">8.7%</div>
                    <div class="card-label">年复合增长率</div>
                    <div class="card-change positive">2018-2023年均</div>
                </div>
                <div class="data-card floating">
                    <div class="card-value">18%</div>
                    <div class="card-label">利润贡献率</div>
                    <div class="card-change negative">低于日本35%</div>
                </div>
                <div class="data-card floating">
                    <div class="card-value">67%</div>
                    <div class="card-label">移动端消费占比</div>
                    <div class="card-change positive">同比增长8%</div>
                </div>
                <div class="data-card floating">
                    <div class="card-value">1.2亿</div>
                    <div class="card-label">核心用户规模</div>
                    <div class="card-change positive">Z世代为主力</div>
                </div>
            </div>

            <!-- 控制面板 -->
            <div class="control-panel scale-in">
                <h4 class="control-title">数据筛选与分析</h4>
                <div class="control-group">
                    <div class="control-item">
                        <label>时间范围</label>
                        <select id="yearRange">
                            <option value="2015-2023">2015-2023年</option>
                            <option value="2018-2023">近三年</option>
                            <option value="2020-2023">疫情后</option>
                        </select>
                    </div>
                    <div class="control-item">
                        <label>数据维度</label>
                        <select id="dataType">
                            <option value="total">总量数据</option>
                            <option value="growth">增长率</option>
                            <option value="structure">结构分析</option>
                        </select>
                    </div>
                    <div class="control-item">
                        <label>对比基准</label>
                        <select id="compareBase">
                            <option value="none">不对比</option>
                            <option value="japan">日本</option>
                            <option value="usa">美国</option>
                        </select>
                    </div>
                    <button class="control-button" onclick="updateScaleCharts()">更新数据</button>
                </div>
            </div>

            <div class="chart-grid">
                <!-- 产业规模增长曲线 -->
                <div class="chart-container scale-in">
                    <h3 class="chart-title">产业规模增长趋势</h3>
                    <p class="chart-subtitle">2015-2023年市场规模（单位：亿元）</p>
                    <div class="chart" id="scaleGrowthChart"></div>
                </div>

                <!-- 产业结构占比 -->
                <div class="chart-container scale-in">
                    <h3 class="chart-title">产业结构分布</h3>
                    <p class="chart-subtitle">内容制作、播出发行、衍生品占比分析</p>
                    <div class="chart" id="industryStructureChart"></div>
                </div>
            </div>

            <!-- 中日对比 -->
            <div class="chart-container full-width-chart scale-in">
                <h3 class="chart-title">中日动漫产业全面对比分析</h3>
                <p class="chart-subtitle">市场规模、IP变现能力、产业链成熟度多维度对比，揭示发展差距</p>
                <div class="chart" id="cnJpComparisonChart"></div>
            </div>

            <!-- 细分市场发展 -->
            <div class="chart-container full-width-chart scale-in">
                <h3 class="chart-title">细分市场发展态势雷达图</h3>
                <p class="chart-subtitle">电影、剧集、衍生品、游戏联动市场表现，识别增长机会点</p>
                <div class="chart" id="marketRadarChart"></div>
            </div>

            <!-- 区域发展热力图 -->
            <div class="chart-container full-width-chart scale-in">
                <h3 class="chart-title">区域产业发展热力图</h3>
                <p class="chart-subtitle">各省份动漫产业发展指数，显示产业集群效应</p>
                <div class="chart" id="regionalHeatmapChart"></div>
            </div>
        </section>

        <!-- IP变现 -->
        <section class="section fade-in" id="ip">
            <div class="section-header slide-in-left">
                <div class="section-number">03</div>
                <h2 class="section-title">IP变现</h2>
            </div>
            <p class="section-description slide-in-left">
                当前中国动漫IP变现主要依赖直营电商和线下门店，海外IP授权占比较高。本土原创IP虽然涌现，但在商业化运作和品牌建设方面仍处于起步阶段。
                如何构建完整的IP价值链条，实现长尾价值最大化，是产业发展的核心挑战。
            </p>

            <!-- IP变现数据 -->
            <div class="data-cards scale-in">
                <div class="data-card pulse-glow">
                    <div class="card-value">62%</div>
                    <div class="card-label">直营电商占比</div>
                    <div class="card-change positive">主要变现渠道</div>
                </div>
                <div class="data-card pulse-glow">
                    <div class="card-value">45%</div>
                    <div class="card-label">海外IP授权占比</div>
                    <div class="card-change negative">本土IP待提升</div>
                </div>
                <div class="data-card pulse-glow">
                    <div class="card-value">28%</div>
                    <div class="card-label">IP长尾收益率</div>
                    <div class="card-change negative">日本达45%</div>
                </div>
                <div class="data-card pulse-glow">
                    <div class="card-value">1:1.7</div>
                    <div class="card-label">ROI转化率</div>
                    <div class="card-change positive">投资回报率</div>
                </div>
                <div class="data-card pulse-glow">
                    <div class="card-value">35%</div>
                    <div class="card-label">衍生品复购率</div>
                    <div class="card-change positive">用户忠诚度高</div>
                </div>
                <div class="data-card pulse-glow">
                    <div class="card-value">18月</div>
                    <div class="card-label">平均变现周期</div>
                    <div class="card-change neutral">需要缩短</div>
                </div>
            </div>

            <div class="chart-grid">
                <!-- IP变现价值链 -->
                <div class="chart-container scale-in">
                    <h3 class="chart-title">IP变现价值链分析</h3>
                    <p class="chart-subtitle">从内容创作到商业变现的完整链条，识别价值流失环节</p>
                    <div class="chart" id="ipValueChainChart"></div>
                </div>

                <!-- 变现渠道分布 -->
                <div class="chart-container scale-in">
                    <h3 class="chart-title">变现渠道占比</h3>
                    <p class="chart-subtitle">电商平台、线下门店、授权合作等多元渠道分析</p>
                    <div class="chart" id="monetizationChannelChart"></div>
                </div>
            </div>

            <!-- 头部IP收益对比 -->
            <div class="chart-container full-width-chart scale-in">
                <h3 class="chart-title">头部IP收益对比分析</h3>
                <p class="chart-subtitle">电影票房、衍生品、授权收入多维度比较（单位：亿元），洞察IP价值差异</p>
                <div class="chart" id="topIpRevenueChart"></div>
            </div>

            <!-- IP生命周期价值 -->
            <div class="chart-container full-width-chart scale-in">
                <h3 class="chart-title">IP生命周期价值曲线</h3>
                <p class="chart-subtitle">不同发展阶段的价值创造能力对比，指导IP运营策略</p>
                <div class="chart" id="ipLifecycleChart"></div>
            </div>

            <!-- IP价值评估矩阵 -->
            <div class="chart-container full-width-chart scale-in">
                <h3 class="chart-title">IP价值评估矩阵</h3>
                <p class="chart-subtitle">知名度与用户粘性二维分析，识别高潜力IP</p>
                <div class="chart" id="ipValueMatrixChart"></div>
            </div>

            <!-- 用户付费行为分析 -->
            <div class="chart-container full-width-chart scale-in">
                <h3 class="chart-title">用户付费行为深度分析</h3>
                <p class="chart-subtitle">付费意愿、频次、金额分布，指导定价策略</p>
                <div class="chart" id="userPaymentChart"></div>
            </div>
        </section>

        <!-- 落地体验 -->
        <section class="section fade-in" id="experience">
            <div class="section-header slide-in-left">
                <div class="section-number">04</div>
                <h2 class="section-title">落地体验</h2>
            </div>
            <p class="section-description slide-in-left">
                中国已出现"熊出没"等主题乐园，但尚未形成迪士尼级别的超级IP集群体系。线下体验场景仍显单一，IP联动与跨界融合深度不足。
                打造沉浸式的全场景体验，推动IP价值最大化，是产业升级的重要方向。
            </p>

            <!-- 体验经济数据 -->
            <div class="data-cards scale-in">
                <div class="data-card floating">
                    <div class="card-value">156</div>
                    <div class="card-label">主题乐园数量</div>
                    <div class="card-change positive">2023年</div>
                </div>
                <div class="data-card floating">
                    <div class="card-value">89亿</div>
                    <div class="card-label">体验经济规模</div>
                    <div class="card-change positive">+18.2% YoY</div>
                </div>
                <div class="data-card floating">
                    <div class="card-value">2.3次</div>
                    <div class="card-label">人均消费频次</div>
                    <div class="card-change positive">年增长0.5次</div>
                </div>
                <div class="data-card floating">
                    <div class="card-value">73%</div>
                    <div class="card-label">满意度评分</div>
                    <div class="card-change positive">用户体验提升</div>
                </div>
                <div class="data-card floating">
                    <div class="card-value">45%</div>
                    <div class="card-label">重游意愿</div>
                    <div class="card-change positive">IP粘性强</div>
                </div>
                <div class="data-card floating">
                    <div class="card-value">285元</div>
                    <div class="card-label">人均消费金额</div>
                    <div class="card-change positive">客单价提高</div>
                </div>
            </div>

            <!-- 交互式控制面板 -->
            <div class="control-panel scale-in">
                <h4 class="control-title">体验场景筛选</h4>
                <div class="control-group">
                    <div class="control-item">
                        <label>IP类型</label>
                        <select id="experienceIpType">
                            <option value="all">全部IP</option>
                            <option value="bear">熊出没</option>
                            <option value="sheep">喜羊羊</option>
                            <option value="other">其他IP</option>
                        </select>
                    </div>
                    <div class="control-item">
                        <label>城市等级</label>
                        <select id="cityLevel">
                            <option value="all">全部城市</option>
                            <option value="tier1">一线城市</option>
                            <option value="tier2">二线城市</option>
                            <option value="tier3">三线城市</option>
                        </select>
                    </div>
                    <div class="control-item">
                        <label>场馆类型</label>
                        <select id="venueType">
                            <option value="all">全部类型</option>
                            <option value="park">主题乐园</option>
                            <option value="exhibition">主题展览</option>
                            <option value="store">主题商店</option>
                        </select>
                    </div>
                    <button class="control-button" onclick="filterExperienceData()">筛选数据</button>
                </div>
            </div>

            <div class="chart-grid">
                <!-- 主题乐园分布地图 -->
                <div class="chart-container scale-in">
                    <h3 class="chart-title">主题乐园区域分布热力图</h3>
                    <p class="chart-subtitle">主要城市的动漫IP主题乐园布局与客流量分析</p>
                    <div class="chart" id="parkDistributionChart"></div>
                </div>

                <!-- 游客画像 -->
                <div class="chart-container scale-in">
                    <h3 class="chart-title">游客画像分析</h3>
                    <p class="chart-subtitle">年龄、性别、消费偏好分布与行为特征</p>
                    <div class="chart" id="visitorProfileChart"></div>
                </div>
            </div>

            <!-- 体验项目对比 -->
            <div class="chart-container full-width-chart scale-in">
                <h3 class="chart-title">头部IP体验项目多维度对比</h3>
                <p class="chart-subtitle">熊出没、喜羊羊、猪猪侠等IP的线下体验场景评估</p>
                <div class="chart" id="experienceComparisonChart"></div>
            </div>

            <!-- 二次元空间经济 -->
            <div class="chart-container full-width-chart scale-in">
                <h3 class="chart-title">二次元空间经济发展趋势</h3>
                <p class="chart-subtitle">从线上到线下的融合发展路径与增长潜力</p>
                <div class="chart" id="twoDimSpaceChart"></div>
            </div>

            <!-- 消费行为分析 -->
            <div class="chart-container full-width-chart scale-in">
                <h3 class="chart-title">消费行为时间分布</h3>
                <p class="chart-subtitle">节假日与工作日的客流与消费对比分析</p>
                <div class="chart" id="consumptionPatternChart"></div>
            </div>

            <!-- 体验满意度评估 -->
            <div class="chart-container full-width-chart scale-in">
                <h3 class="chart-title">体验满意度评估矩阵</h3>
                <p class="chart-subtitle">服务品质、IP还原度、性价比综合评估</p>
                <div class="chart" id="satisfactionMatrixChart"></div>
            </div>
        </section>

        <!-- 出海表现 -->
        <section class="section fade-in" id="global">
            <div class="section-header slide-in-left">
                <div class="section-number">05</div>
                <h2 class="section-title">出海表现</h2>
            </div>
            <p class="section-description slide-in-left">
                中国动漫本土票房表现亮眼，《哪吒》等作品创造历史记录。然而海外市场因文化差异等原因，影响力仍显不足。
                如何讲好中国故事，强化文化输出，提升国际竞争力，是产业面临的战略课题。
                需要构建跨文化传播策略，提升IP国际认知度。
            </p>

            <!-- 出海表现数据 -->
            <div class="data-cards scale-in">
                <div class="data-card pulse-glow">
                    <div class="card-value">50.35亿</div>
                    <div class="card-label">《哪吒》本土票房</div>
                    <div class="card-change positive">影史第五</div>
                </div>
                <div class="data-card pulse-glow">
                    <div class="card-value">0.37亿</div>
                    <div class="card-label">《哪吒》海外票房</div>
                    <div class="card-change negative">占比仅0.7%</div>
                </div>
                <div class="data-card pulse-glow">
                    <div class="card-value">12%</div>
                    <div class="card-label">海外收入占比</div>
                    <div class="card-change negative">日本达40%</div>
                </div>
                <div class="data-card pulse-glow">
                    <div class="card-value">35</div>
                    <div class="card-label">出口国家数量</div>
                    <div class="card-change positive">逐年扩大</div>
                </div>
                <div class="data-card pulse-glow">
                    <div class="card-value">8.5%</div>
                    <div class="card-label">海外市场增长率</div>
                    <div class="card-change positive">潜力巨大</div>
                </div>
                <div class="data-card pulse-glow">
                    <div class="card-value">3.2</div>
                    <div class="card-label">海外评分均值</div>
                    <div class="card-change neutral">文化折扣明显</div>
                </div>
            </div>

            <div class="chart-grid">
                <!-- 全球票房对比 -->
                <div class="chart-container scale-in">
                    <h3 class="chart-title">本土vs海外票房对比</h3>
                    <p class="chart-subtitle">中国动画电影本土与海外票房表现差异分析</p>
                    <div class="chart" id="globalBoxOfficeChart"></div>
                </div>

                <!-- 出海渠道分析 -->
                <div class="chart-container scale-in">
                    <h3 class="chart-title">出海渠道分布</h3>
                    <p class="chart-subtitle">院线、流媒体、版权销售占比与趋势</p>
                    <div class="chart" id="globalChannelChart"></div>
                </div>
            </div>

            <!-- 文化影响力评估 -->
            <div class="chart-container full-width-chart scale-in">
                <h3 class="chart-title">文化影响力评估矩阵</h3>
                <p class="chart-subtitle">票房表现与文化输出效果二维分析，识别改进空间</p>
                <div class="chart" id="culturalImpactChart"></div>
            </div>

            <!-- 出海模式演变 -->
            <div class="chart-container full-width-chart scale-in">
                <h3 class="chart-title">出海模式演进路径</h3>
                <p class="chart-subtitle">从单一版权销售到全产业链布局的战略转型</p>
                <div class="chart" id="globalStrategyChart"></div>
            </div>

            <!-- 目标市场分析 -->
            <div class="chart-container full-width-chart scale-in">
                <h3 class="chart-title">目标市场适应性分析</h3>
                <p class="chart-subtitle">不同地区文化偏好与接受度调研</p>
                <div class="chart" id="marketAdaptationChart"></div>
            </div>

            <!-- 跨文化传播策略 -->
            <div class="chart-container full-width-chart scale-in">
                <h3 class="chart-title">跨文化传播策略地图</h3>
                <p class="chart-subtitle">本土化改编与国际表达平衡策略</p>
                <div class="chart" id="communicationStrategyChart"></div>
            </div>

            <!-- 主要挑战分析 -->
            <div class="comparison-table scale-in">
                <div class="table-header">
                    <h3 style="font-size: 22px;">中国动漫出海主要挑战与应对策略</h3>
                </div>
                <div class="table-row">
                    <div class="table-cell">
                        <div class="cell-label">文化差异</div>
                        <div class="cell-value">85%</div>
                    </div>
                    <div class="table-cell">
                        <div class="cell-label">翻译本地化</div>
                        <div class="cell-value">72%</div>
                    </div>
                    <div class="table-cell">
                        <div class="cell-label">营销推广</div>
                        <div class="card-value">68%</div>
                    </div>
                </div>
                <div class="table-row">
                    <div class="table-cell">
                        <div class="cell-label">渠道建设</div>
                        <div class="cell-value">61%</div>
                    </div>
                    <div class="table-cell">
                        <div class="cell-label">IP认知度</div>
                        <div class="cell-value">79%</div>
                    </div>
                    <div class="table-cell">
                        <div class="cell-label">资金支持</div>
                        <div class="cell-value">55%</div>
                    </div>
                </div>
                <div class="table-row">
                    <div class="table-cell">
                        <div class="cell-label">政策壁垒</div>
                        <div class="cell-value">42%</div>
                    </div>
                    <div class="table-cell">
                        <div class="cell-label">盗版问题</div>
                        <div class="cell-value">38%</div>
                    </div>
                    <div class="table-cell">
                        <div class="cell-label">人才缺口</div>
                        <div class="cell-value">47%</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 结论展望 -->
        <section class="conclusion fade-in">
            <h2 class="conclusion-title">发展展望与战略建议</h2>
            <p class="conclusion-text">
                中国动漫产业正处于从"大"到"强"的关键转型期。未来需要在原创IP培育、产业链协同、文化输出能力等方面持续发力。
                通过技术驱动、模式创新和国际化布局，实现产业的高质量发展，真正建立起具有全球影响力的动漫产业生态。
                预计到2025年，产业规模将突破3000亿元，原创IP占比提升至60%，海外市场收入占比达到20%。
            </p>
        </section>

        <!-- 错误提示 -->
        <div class="error-message" id="errorMessage"></div>
    </main>

    <script>
        // ==========================================================================
        // 全局变量配置
        // ==========================================================================
        const CONFIG = {
            colors: {
                primary: '#3498db',
                secondary: '#e67e22',
                success: '#27ae60',
                warning: '#f39c12',
                danger: '#e74c3c',
                gradient: ['#3498db', '#e67e22', '#27ae60', '#f39c12', '#e74c3c', '#9b59b6']
            },
            animationDuration: 800,
            loadingSteps: 10
        };

        // ==========================================================================
        // 页面加载管理器
        // ==========================================================================
        class PageLoader {
            constructor() {
                this.loadingElement = document.getElementById('loading');
                this.progressBar = document.getElementById('loadingProgress');
                this.currentProgress = 0;
                this.isLoaded = false;
            }

            async start() {
                return new Promise((resolve) => {
                    const interval = setInterval(() => {
                        this.currentProgress += Math.random() * 15;
                        if (this.currentProgress >= 90) {
                            this.currentProgress = 90;
                        }
                        this.progressBar.style.width = this.currentProgress + '%';

                        if (this.currentProgress >= 90) {
                            clearInterval(interval);
                            resolve();
                        }
                    }, 200);
                });
            }

            async complete() {
                return new Promise((resolve) => {
                    this.currentProgress = 100;
                    this.progressBar.style.width = '100%';
                    setTimeout(() => {
                        this.loadingElement.classList.add('hidden');
                        this.isLoaded = true;
                        resolve();
                    }, 500);
                });
            }

            async loadWithRetry(fn, maxRetries = 3) {
                for (let i = 0; i < maxRetries; i++) {
                    try {
                        return await fn();
                    } catch (error) {
                        console.warn(`Attempt ${i + 1} failed:`, error);
                        if (i === maxRetries - 1) throw error;
                        await new Promise(resolve => setTimeout(resolve, 1000 * (i + 1)));
                    }
                }
            }
        }

        const pageLoader = new PageLoader();

        // ==========================================================================
        // 错误处理管理器
        // ==========================================================================
        class ErrorHandler {
            constructor() {
                this.errorElement = document.getElementById('errorMessage');
            }

            show(message, duration = 5000) {
                this.errorElement.textContent = message;
                this.errorElement.classList.add('visible');
                
                if (duration > 0) {
                    setTimeout(() => {
                        this.hide();
                    }, duration);
                }
            }

            hide() {
                this.errorElement.classList.remove('visible');
            }

            handleChartError(chartId, error) {
                console.error(`图表 ${chartId} 加载失败:`, error);
                this.show(`部分数据加载失败，请刷新页面重试`, 3000);
            }
        }

        const errorHandler = new ErrorHandler();

        // ==========================================================================
        // 图表初始化函数
        // ==========================================================================
        function initializeAllCharts() {
            try {
                // 发展历程图表
                initializeDevelopmentTrendChart();
                initializeTechEvolutionChart();
                initializeGenreTrendChart();

                // 产业规模图表
                initializeScaleGrowthChart();
                initializeIndustryStructureChart();
                initializeCnJpComparisonChart();
                initializeMarketRadarChart();
                initializeRegionalHeatmapChart();

                // IP变现图表
                initializeIpValueChainChart();
                initializeMonetizationChannelChart();
                initializeTopIpRevenueChart();
                initializeIpLifecycleChart();
                initializeIpValueMatrixChart();
                initializeUserPaymentChart();

                // 落地体验图表
                initializeParkDistributionChart();
                initializeVisitorProfileChart();
                initializeExperienceComparisonChart();
                initializeTwoDimSpaceChart();
                initializeConsumptionPatternChart();
                initializeSatisfactionMatrixChart();

                // 出海表现图表
                initializeGlobalBoxOfficeChart();
                initializeGlobalChannelChart();
                initializeCulturalImpactChart();
                initializeGlobalStrategyChart();
                initializeMarketAdaptationChart();
                initializeCommunicationStrategyChart();

                // 添加图表联动
                setupChartInteractions();

            } catch (error) {
                errorHandler.show('数据可视化初始化失败，请检查网络连接或刷新页面');
                console.error('图表初始化错误:', error);
            }
        }

        // ==========================================================================
        // 发展历程图表实现
        // ==========================================================================
        function initializeDevelopmentTrendChart() {
            const dom = document.getElementById('developmentTrendChart');
            if (!dom) return;

            const chart = echarts.init(dom);
            
            const option = {
                backgroundColor: 'transparent',
                title: {
                    text: '产量与票房双增长趋势',
                    left: 'center',
                    textStyle: { 
                        color: '#2c3e50', 
                        fontSize: 18,
                        fontWeight: 'bold'
                    }
                },
                tooltip: {
                    trigger: 'axis',
                    backgroundColor: 'rgba(255,255,255,0.95)',
                    borderColor: '#3498db',
                    borderWidth: 2,
                    textStyle: { 
                        color: '#2c3e50',
                        fontSize: 14
                    },
                    formatter: function(params) {
                        let result = params[0].name + '<br/>';
                        params.forEach(item => {
                            result += `<span style="color:${item.color}">${item.marker} ${item.seriesName}: ${item.value}${item.seriesName.includes('产量') ? '部' : '亿元'}<br/>`;
                        });
                        return result;
                    }
                },
                legend: {
                    data: ['动画产量(部)', '票房收入(亿元)'],
                    bottom: 0,
                    textStyle: { 
                        color: '#7f8c8d',
                        fontSize: 14
                    }
                },
                xAxis: {
                    type: 'category',
                    data: ['2010', '2011', '2012', '2013', '2014', '2015', '2016', '2017', '2018', '2019', '2020', '2021', '2022', '2023'],
                    axisLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.3)' 
                        } 
                    },
                    axisLabel: { 
                        color: '#7f8c8d',
                        fontSize: 12
                    },
                    axisTick: {
                        alignWithLabel: true,
                        lineStyle: {
                            color: 'rgba(52, 152, 219, 0.2)'
                        }
                    }
                },
                yAxis: [
                    {
                        type: 'value',
                        name: '产量(部)',
                        nameTextStyle: { 
                            color: '#7f8c8d',
                            fontSize: 14
                        },
                        axisLine: { 
                            lineStyle: { 
                                color: 'rgba(52, 152, 219, 0.3)' 
                            } 
                        },
                        axisLabel: { 
                            color: '#7f8c8d',
                            fontSize: 12
                        },
                        splitLine: { 
                            lineStyle: { 
                                color: 'rgba(52, 152, 219, 0.1)',
                                type: 'dashed'
                            } 
                        }
                    },
                    {
                        type: 'value',
                        name: '票房(亿元)',
                        nameTextStyle: { 
                            color: '#7f8c8d',
                            fontSize: 14
                        },
                        axisLine: { 
                            lineStyle: { 
                                color: 'rgba(52, 152, 219, 0.3)' 
                            } 
                        },
                        axisLabel: { 
                            color: '#7f8c8d',
                            fontSize: 12
                        }
                    }
                ],
                series: [
                    {
                        name: '动画产量(部)',
                        type: 'bar',
                        data: [385, 421, 467, 512, 584, 623, 689, 734, 812, 897, 456, 789, 856, 923],
                        itemStyle: {
                            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                                { offset: 0, color: '#3498db' },
                                { offset: 1, color: '#2980b9' }
                            ]),
                            borderRadius: [5, 5, 0, 0]
                        },
                        emphasis: {
                            itemStyle: {
                                shadowBlur: 10,
                                shadowColor: 'rgba(52, 152, 219, 0.5)'
                            }
                        }
                    },
                    {
                        name: '票房收入(亿元)',
                        type: 'line',
                        yAxisIndex: 1,
                        smooth: true,
                        symbol: 'circle',
                        symbolSize: 8,
                        data: [12.3, 15.6, 18.9, 22.4, 28.7, 35.2, 42.8, 48.3, 55.6, 72.8, 31.2, 68.4, 75.9, 82.3],
                        lineStyle: {
                            color: '#e67e22',
                            width: 4,
                            shadowBlur: 8,
                            shadowColor: 'rgba(230, 126, 34, 0.3)'
                        },
                        areaStyle: {
                            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                                { offset: 0, color: 'rgba(230, 126, 34, 0.3)' },
                                { offset: 1, color: 'rgba(230, 126, 34, 0)' }
                            ])
                        },
                        emphasis: {
                            scale: 1.5,
                            itemStyle: {
                                borderColor: '#fff',
                                borderWidth: 2
                            }
                        },
                        markPoint: {
                            data: [
                                { type: 'max', name: '最大值', itemStyle: { color: '#e74c3c' } },
                                { type: 'min', name: '最小值', itemStyle: { color: '#f39c12' } }
                            ],
                            label: {
                                color: '#2c3e50',
                                backgroundColor: 'rgba(255,255,255,0.9)',
                                borderColor: '#3498db',
                                borderWidth: 1,
                                borderRadius: 4,
                                padding: [5, 10]
                            }
                        },
                        markLine: {
                            data: [
                                { type: 'average', name: '平均值', label: { color: '#2c3e50' } }
                            ],
                            lineStyle: { 
                                color: 'rgba(52, 152, 219, 0.5)',
                                type: 'dashed'
                            }
                        }
                    }
                ],
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '10%',
                    top: '15%',
                    containLabel: true
                }
            };

            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }

        function initializeTechEvolutionChart() {
            const dom = document.getElementById('techEvolutionChart');
            if (!dom) return;

            const chart = echarts.init(dom);
            
            const option = {
                backgroundColor: 'transparent',
                title: {
                    text: '技术革新推动产业升级',
                    left: 'center',
                    textStyle: { 
                        color: '#2c3e50', 
                        fontSize: 16 
                    }
                },
                tooltip: {
                    trigger: 'item',
                    backgroundColor: 'rgba(255,255,255,0.95)',
                    borderColor: '#3498db',
                    textStyle: { color: '#2c3e50' },
                    formatter: '{b}: {c}%'
                },
                series: [{
                    type: 'pie',
                    radius: ['40%', '70%'],
                    center: ['50%', '50%'],
                    roseType: 'radius',
                    itemStyle: {
                        borderRadius: 8,
                        borderColor: '#fff',
                        borderWidth: 2
                    },
                    label: {
                        show: true,
                        color: '#2c3e50',
                        formatter: '{b}\n{c}%',
                        fontSize: 12
                    },
                    labelLine: {
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.5)' 
                        }
                    },
                    data: [
                        { 
                            value: 35, 
                            name: '3D/CG技术', 
                            itemStyle: { color: '#3498db' },
                            emphasis: {
                                itemStyle: {
                                    shadowBlur: 10,
                                    shadowColor: 'rgba(52, 152, 219, 0.5)'
                                }
                            }
                        },
                        { 
                            value: 25, 
                            name: 'AI辅助制作', 
                            itemStyle: { color: '#e67e22' },
                            emphasis: {
                                itemStyle: {
                                    shadowBlur: 10,
                                    shadowColor: 'rgba(230, 126, 34, 0.5)'
                                }
                            }
                        },
                        { 
                            value: 20, 
                            name: '动作捕捉', 
                            itemStyle: { color: '#27ae60' },
                            emphasis: {
                                itemStyle: {
                                    shadowBlur: 10,
                                    shadowColor: 'rgba(39, 174, 96, 0.5)'
                                }
                            }
                        },
                        { 
                            value: 12, 
                            name: 'VR/AR应用', 
                            itemStyle: { color: '#f39c12' },
                            emphasis: {
                                itemStyle: {
                                    shadowBlur: 10,
                                    shadowColor: 'rgba(243, 156, 18, 0.5)'
                                }
                            }
                        },
                        { 
                            value: 8, 
                            name: '传统手绘', 
                            itemStyle: { color: '#e74c3c' },
                            emphasis: {
                                itemStyle: {
                                    shadowBlur: 10,
                                    shadowColor: 'rgba(231, 76, 60, 0.5)'
                                }
                            }
                        }
                    ],
                    emphasis: {
                        itemStyle: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowColor: 'rgba(0, 0, 0, 0.2)'
                        }
                    }
                }]
            };

            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }

        function initializeGenreTrendChart() {
            const dom = document.getElementById('genreTrendChart');
            if (!dom) return;

            const chart = echarts.init(dom);
            
            const option = {
                backgroundColor: 'transparent',
                title: {
                    text: '题材类型多元化发展',
                    left: 'center',
                    textStyle: { 
                        color: '#2c3e50', 
                        fontSize: 16 
                    }
                },
                tooltip: {
                    trigger: 'axis',
                    backgroundColor: 'rgba(255,255,255,0.95)',
                    borderColor: '#3498db',
                    textStyle: { color: '#2c3e50' }
                },
                legend: {
                    data: ['神话/玄幻', '科幻/未来', '现实/都市', '历史/武侠', '其他'],
                    bottom: 0,
                    textStyle: { color: '#7f8c8d' }
                },
                xAxis: {
                    type: 'category',
                    data: ['2015', '2016', '2017', '2018', '2019', '2020', '2021', '2022', '2023'],
                    axisLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.3)' 
                        } 
                    },
                    axisLabel: { color: '#7f8c8d' }
                },
                yAxis: {
                    type: 'value',
                    name: '占比(%)',
                    nameTextStyle: { color: '#7f8c8d' },
                    axisLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.3)' 
                        } 
                    },
                    axisLabel: { color: '#7f8c8d' },
                    splitLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.1)',
                            type: 'dashed'
                        } 
                    }
                },
                series: [
                    {
                        name: '神话/玄幻',
                        type: 'line',
                        smooth: true,
                        symbol: 'circle',
                        symbolSize: 6,
                        data: [45, 42, 38, 35, 32, 30, 28, 26, 24],
                        itemStyle: { color: '#3498db' },
                        areaStyle: { 
                            color: 'rgba(52, 152, 219, 0.2)' 
                        }
                    },
                    {
                        name: '科幻/未来',
                        type: 'line',
                        smooth: true,
                        symbol: 'circle',
                        symbolSize: 6,
                        data: [15, 18, 22, 25, 28, 30, 32, 34, 36],
                        itemStyle: { color: '#e67e22' },
                        areaStyle: { 
                            color: 'rgba(230, 126, 34, 0.2)' 
                        }
                    },
                    {
                        name: '现实/都市',
                        type: 'line',
                        smooth: true,
                        symbol: 'circle',
                        symbolSize: 6,
                        data: [20, 22, 24, 26, 28, 30, 32, 34, 36],
                        itemStyle: { color: '#27ae60' },
                        areaStyle: { 
                            color: 'rgba(39, 174, 96, 0.2)' 
                        }
                    },
                    {
                        name: '历史/武侠',
                        type: 'line',
                        smooth: true,
                        symbol: 'circle',
                        symbolSize: 6,
                        data: [18, 16, 14, 12, 10, 8, 6, 4, 3],
                        itemStyle: { color: '#f39c12' },
                        areaStyle: { 
                            color: 'rgba(243, 156, 18, 0.2)' 
                        }
                    },
                    {
                        name: '其他',
                        type: 'line',
                        smooth: true,
                        symbol: 'circle',
                        symbolSize: 6,
                        data: [2, 2, 2, 2, 2, 2, 2, 2, 1],
                        itemStyle: { color: '#e74c3c' },
                        areaStyle: { 
                            color: 'rgba(231, 76, 60, 0.2)' 
                        }
                    }
                ],
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '10%',
                    top: '15%',
                    containLabel: true
                }
            };

            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }

        // ==========================================================================
        // 产业规模图表实现
        // ==========================================================================
        function initializeScaleGrowthChart() {
            const dom = document.getElementById('scaleGrowthChart');
            if (!dom) return;

            const chart = echarts.init(dom);
            
            const option = {
                backgroundColor: 'transparent',
                title: {
                    text: '高速增长态势',
                    left: 'center',
                    textStyle: { 
                        color: '#2c3e50', 
                        fontSize: 16 
                    }
                },
                tooltip: {
                    trigger: 'axis',
                    backgroundColor: 'rgba(255,255,255,0.95)',
                    borderColor: '#3498db',
                    textStyle: { color: '#2c3e50' },
                    formatter: '{b}年: {c}亿元'
                },
                xAxis: {
                    type: 'category',
                    data: ['2015', '2016', '2017', '2018', '2019', '2020', '2021', '2022', '2023'],
                    axisLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.3)' 
                        } 
                    },
                    axisLabel: { 
                        color: '#7f8c8d',
                        fontSize: 12
                    },
                    axisTick: {
                        alignWithLabel: true
                    }
                },
                yAxis: {
                    type: 'value',
                    name: '市场规模(亿元)',
                    nameTextStyle: { color: '#7f8c8d' },
                    axisLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.3)' 
                        } 
                    },
                    axisLabel: { color: '#7f8c8d' },
                    splitLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.1)',
                            type: 'dashed'
                        } 
                    }
                },
                series: [{
                    type: 'line',
                    smooth: true,
                    symbol: 'circle',
                    symbolSize: 8,
                    data: [1198, 1324, 1487, 1672, 1895, 2034, 2145, 2289, 2347],
                    lineStyle: {
                        color: '#3498db',
                        width: 4,
                        shadowBlur: 8,
                        shadowColor: 'rgba(52, 152, 219, 0.3)'
                    },
                    areaStyle: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                            { offset: 0, color: 'rgba(52, 152, 219, 0.4)' },
                            { offset: 1, color: 'rgba(52, 152, 219, 0)' }
                        ])
                    },
                    emphasis: {
                        scale: 1.5,
                        itemStyle: {
                            borderColor: '#fff',
                            borderWidth: 2
                        }
                    },
                    markPoint: {
                        data: [
                            { type: 'max', name: '最大值', itemStyle: { color: '#e74c3c' } },
                            { type: 'min', name: '最小值', itemStyle: { color: '#f39c12' } }
                        ],
                        label: {
                            color: '#2c3e50',
                            backgroundColor: 'rgba(255,255,255,0.9)',
                            borderColor: '#3498db',
                            borderWidth: 1,
                            borderRadius: 4,
                            padding: [5, 10]
                        }
                    },
                    markLine: {
                        data: [
                            { type: 'average', name: '平均值', label: { color: '#2c3e50' } }
                        ],
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.5)',
                            type: 'dashed'
                        }
                    }
                }],
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    top: '15%',
                    containLabel: true
                }
            };

            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }

        function initializeIndustryStructureChart() {
            const dom = document.getElementById('industryStructureChart');
            if (!dom) return;

            const chart = echarts.init(dom);
            
            const option = {
                backgroundColor: 'transparent',
                title: {
                    text: '产业链结构优化中',
                    left: 'center',
                    textStyle: { 
                        color: '#2c3e50', 
                        fontSize: 16 
                    }
                },
                tooltip: {
                    trigger: 'item',
                    backgroundColor: 'rgba(255,255,255,0.95)',
                    borderColor: '#3498db',
                    textStyle: { color: '#2c3e50' },
                    formatter: '{b}: {c}% ({d}%)'
                },
                legend: {
                    orient: 'vertical',
                    left: 'left',
                    textStyle: { 
                        color: '#7f8c8d',
                        fontSize: 12
                    }
                },
                series: [{
                    name: '产业结构',
                    type: 'pie',
                    radius: ['40%', '70%'],
                    center: ['60%', '50%'],
                    avoidLabelOverlap: false,
                    itemStyle: {
                        borderRadius: 10,
                        borderColor: '#fff',
                        borderWidth: 2
                    },
                    label: {
                        show: false,
                        position: 'center'
                    },
                    emphasis: {
                        label: {
                            show: true,
                            fontSize: 18,
                            fontWeight: 'bold',
                            color: '#2c3e50'
                        },
                        itemStyle: {
                            shadowBlur: 10,
                            shadowColor: 'rgba(0,0,0,0.2)'
                        }
                    },
                    labelLine: {
                        show: false
                    },
                    data: [
                        { 
                            value: 28, 
                            name: '内容制作', 
                            itemStyle: { color: '#3498db' },
                            emphasis: {
                                itemStyle: {
                                    shadowBlur: 15,
                                    shadowColor: 'rgba(52, 152, 219, 0.5)'
                                }
                            }
                        },
                        { 
                            value: 35, 
                            name: '播出发行', 
                            itemStyle: { color: '#e67e22' },
                            emphasis: {
                                itemStyle: {
                                    shadowBlur: 15,
                                    shadowColor: 'rgba(230, 126, 34, 0.5)'
                                }
                            }
                        },
                        { 
                            value: 12, 
                            name: '衍生开发', 
                            itemStyle: { color: '#27ae60' },
                            emphasis: {
                                itemStyle: {
                                    shadowBlur: 15,
                                    shadowColor: 'rgba(39, 174, 96, 0.5)'
                                }
                            }
                        },
                        { 
                            value: 15, 
                            name: '游戏联动', 
                            itemStyle: { color: '#f39c12' },
                            emphasis: {
                                itemStyle: {
                                    shadowBlur: 15,
                                    shadowColor: 'rgba(243, 156, 18, 0.5)'
                                }
                            }
                        },
                        { 
                            value: 10, 
                            name: '其他', 
                            itemStyle: { color: '#e74c3c' },
                            emphasis: {
                                itemStyle: {
                                    shadowBlur: 15,
                                    shadowColor: 'rgba(231, 76, 60, 0.5)'
                                }
                            }
                        }
                    ]
                }]
            };

            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }

        function initializeCnJpComparisonChart() {
            const dom = document.getElementById('cnJpComparisonChart');
            if (!dom) return;

            const chart = echarts.init(dom);
            
            const option = {
                backgroundColor: 'transparent',
                title: {
                    text: '中日动漫产业多维度对比',
                    left: 'center',
                    textStyle: { 
                        color: '#2c3e50', 
                        fontSize: 20,
                        fontWeight: 'bold'
                    }
                },
                tooltip: {
                    backgroundColor: 'rgba(255,255,255,0.95)',
                    borderColor: '#3498db',
                    borderWidth: 2,
                    textStyle: { color: '#2c3e50' },
                    formatter: function(params) {
                        return `<strong>${params.seriesName}</strong><br/>${params.name}: ${params.value}分`;
                    }
                },
                legend: {
                    data: ['中国', '日本'],
                    bottom: 0,
                    textStyle: { 
                        color: '#7f8c8d',
                        fontSize: 14
                    }
                },
                radar: {
                    indicator: [
                        { name: '市场规模', max: 100 },
                        { name: 'IP变现能力', max: 100 },
                        { name: '产业链成熟度', max: 100 },
                        { name: '国际化程度', max: 100 },
                        { name: '内容创新能力', max: 100 },
                        { name: '衍生品开发', max: 100 }
                    ],
                    shape: 'polygon',
                    splitNumber: 5,
                    name: {
                        textStyle: {
                            color: '#2c3e50',
                            fontSize: 14,
                            fontWeight: 'bold'
                        }
                    },
                    splitLine: {
                        lineStyle: {
                            color: 'rgba(52, 152, 219, 0.2)'
                        }
                    },
                    splitArea: {
                        show: true,
                        areaStyle: {
                            color: ['rgba(52, 152, 219, 0.05)', 'rgba(52, 152, 219, 0.1)']
                        }
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'rgba(52, 152, 219, 0.3)'
                        }
                    }
                },
                series: [{
                    name: '中日对比',
                    type: 'radar',
                    data: [
                        {
                            value: [75, 62, 68, 45, 72, 65],
                            name: '中国',
                            lineStyle: { 
                                color: '#3498db', 
                                width: 3,
                                shadowBlur: 8,
                                shadowColor: 'rgba(52, 152, 219, 0.3)'
                            },
                            areaStyle: { 
                                color: 'rgba(52, 152, 219, 0.3)' 
                            },
                            symbol: 'circle',
                            symbolSize: 8,
                            emphasis: {
                                scale: 1.5,
                                itemStyle: {
                                    borderColor: '#fff',
                                    borderWidth: 2
                                }
                            }
                        },
                        {
                            value: [85, 92, 88, 75, 85, 90],
                            name: '日本',
                            lineStyle: { 
                                color: '#e67e22', 
                                width: 3,
                                shadowBlur: 8,
                                shadowColor: 'rgba(230, 126, 34, 0.3)'
                            },
                            areaStyle: { 
                                color: 'rgba(230, 126, 34, 0.3)' 
                            },
                            symbol: 'circle',
                            symbolSize: 8,
                            emphasis: {
                                scale: 1.5,
                                itemStyle: {
                                    borderColor: '#fff',
                                    borderWidth: 2
                                }
                            }
                        }
                    ]
                }]
            };

            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }

        function initializeMarketRadarChart() {
            const dom = document.getElementById('marketRadarChart');
            if (!dom) return;

            const chart = echarts.init(dom);
            
            const option = {
                backgroundColor: 'transparent',
                title: {
                    text: '市场发展均衡性评估',
                    left: 'center',
                    textStyle: { 
                        color: '#2c3e50', 
                        fontSize: 20,
                        fontWeight: 'bold'
                    }
                },
                tooltip: {
                    backgroundColor: 'rgba(255,255,255,0.95)',
                    borderColor: '#3498db',
                    textStyle: { color: '#2c3e50' },
                    formatter: function(params) {
                        return `<strong>${params.seriesName}</strong><br/>${params.name}: ${params.value}分`;
                    }
                },
                legend: {
                    data: ['电影', '剧集', '衍生品', '游戏联动'],
                    bottom: 0,
                    textStyle: { 
                        color: '#7f8c8d',
                        fontSize: 14
                    }
                },
                radar: {
                    indicator: [
                        { name: '市场规模', max: 100 },
                        { name: '增长率', max: 100 },
                        { name: '盈利能力', max: 100 },
                        { name: '用户粘性', max: 100 },
                        { name: 'IP价值', max: 100 },
                        { name: '创新指数', max: 100 }
                    ],
                    shape: 'polygon',
                    splitNumber: 5,
                    name: {
                        textStyle: {
                            color: '#2c3e50',
                            fontSize: 14,
                            fontWeight: 'bold'
                        }
                    },
                    splitLine: {
                        lineStyle: {
                            color: 'rgba(52, 152, 219, 0.2)'
                        }
                    },
                    splitArea: {
                        show: true,
                        areaStyle: {
                            color: ['rgba(231, 76, 60, 0.05)', 'rgba(231, 76, 60, 0.1)']
                        }
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'rgba(52, 152, 219, 0.3)'
                        }
                    }
                },
                series: [{
                    type: 'radar',
                    data: [
                        {
                            value: [85, 75, 80, 70, 85, 78],
                            name: '电影',
                            lineStyle: { 
                                color: '#3498db', 
                                width: 2,
                                shadowBlur: 5
                            },
                            areaStyle: { 
                                color: 'rgba(52, 152, 219, 0.2)' 
                            },
                            emphasis: {
                                scale: 1.2,
                                itemStyle: {
                                    borderColor: '#fff',
                                    borderWidth: 2
                                }
                            }
                        },
                        {
                            value: [70, 65, 60, 75, 65, 70],
                            name: '剧集',
                            lineStyle: { 
                                color: '#e67e22', 
                                width: 2,
                                shadowBlur: 5
                            },
                            areaStyle: { 
                                color: 'rgba(230, 126, 34, 0.2)' 
                            },
                            emphasis: {
                                scale: 1.2,
                                itemStyle: {
                                    borderColor: '#fff',
                                    borderWidth: 2
                                }
                            }
                        },
                        {
                            value: [65, 85, 70, 60, 75, 68],
                            name: '衍生品',
                            lineStyle: { 
                                color: '#27ae60', 
                                width: 2,
                                shadowBlur: 5
                            },
                            areaStyle: { 
                                color: 'rgba(39, 174, 96, 0.2)' 
                            },
                            emphasis: {
                                scale: 1.2,
                                itemStyle: {
                                    borderColor: '#fff',
                                    borderWidth: 2
                                }
                            }
                        },
                        {
                            value: [75, 80, 85, 80, 70, 75],
                            name: '游戏联动',
                            lineStyle: { 
                                color: '#f39c12', 
                                width: 2,
                                shadowBlur: 5
                            },
                            areaStyle: { 
                                color: 'rgba(243, 156, 18, 0.2)' 
                            },
                            emphasis: {
                                scale: 1.2,
                                itemStyle: {
                                    borderColor: '#fff',
                                    borderWidth: 2
                                }
                            }
                        }
                    ]
                }]
            };

            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }

        function initializeRegionalHeatmapChart() {
            const dom = document.getElementById('regionalHeatmapChart');
            if (!dom) return;

            const chart = echarts.init(dom);
            
            const option = {
                backgroundColor: 'transparent',
                title: {
                    text: '区域产业发展指数分布',
                    left: 'center',
                    textStyle: { 
                        color: '#2c3e50', 
                        fontSize: 20 
                    }
                },
                tooltip: {
                    backgroundColor: 'rgba(255,255,255,0.95)',
                    borderColor: '#3498db',
                    textStyle: { color: '#2c3e50' },
                    formatter: function(params) {
                        return `${params.name}: ${params.value}分`;
                    }
                },
                visualMap: {
                    min: 0,
                    max: 100,
                    left: 'left',
                    top: 'bottom',
                    text: ['高', '低'],
                    textStyle: { color: '#7f8c8d' },
                    inRange: {
                        color: ['#ffffcc', '#c7e9b4', '#7fcdbb', '#41b6c4', '#2c7fb8', '#253494']
                    }
                },
                series: [{
                    name: '发展指数',
                    type: 'heatmap',
                    data: [
                        [0, 0, 85], [0, 1, 78], [0, 2, 65], [0, 3, 72], [0, 4, 68],
                        [1, 0, 92], [1, 1, 88], [1, 2, 76], [1, 3, 82], [1, 4, 79],
                        [2, 0, 75], [2, 1, 82], [2, 2, 70], [2, 3, 85], [2, 4, 88],
                        [3, 0, 68], [3, 1, 72], [3, 2, 60], [3, 3, 75], [3, 4, 70],
                        [4, 0, 80], [4, 1, 85], [4, 2, 78], [4, 3, 90], [4, 4, 85]
                    ],
                    label: {
                        show: true,
                        color: '#2c3e50',
                        fontSize: 12,
                        fontWeight: 'bold'
                    },
                    emphasis: {
                        itemStyle: {
                            shadowBlur: 10,
                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    }
                }],
                xAxis: {
                    type: 'category',
                    data: ['北京', '上海', '广州', '深圳', '杭州'],
                    axisLabel: { color: '#7f8c8d' },
                    axisLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.3)' 
                        } 
                    }
                },
                yAxis: {
                    type: 'category',
                    data: ['产业规模', '创新能力', '人才储备', '资本投入', '政策支持'],
                    axisLabel: { color: '#7f8c8d' },
                    axisLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.3)' 
                        } 
                    }
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    top: '15%',
                    containLabel: true
                }
            };

            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }

        // ==========================================================================
        // IP变现图表实现
        // ==========================================================================
        function initializeIpValueChainChart() {
            const dom = document.getElementById('ipValueChainChart');
            if (!dom) return;

            const chart = echarts.init(dom);
            
            const option = {
                backgroundColor: 'transparent',
                title: {
                    text: 'IP价值链各环节收益分布',
                    left: 'center',
                    textStyle: { 
                        color: '#2c3e50', 
                        fontSize: 16 
                    }
                },
                tooltip: {
                    trigger: 'item',
                    backgroundColor: 'rgba(255,255,255,0.95)',
                    borderColor: '#3498db',
                    textStyle: { color: '#2c3e50' },
                    formatter: function(params) {
                        return `${params.name}<br/>收益占比: ${params.value}%`;
                    }
                },
                series: [{
                    type: 'sankey',
                    layout: 'none',
                    emphasis: {
                        focus: 'adjacency'
                    },
                    data: [
                        { name: 'IP创作', itemStyle: { color: '#3498db' } },
                        { name: '内容制作', itemStyle: { color: '#e67e22' } },
                        { name: '播出发行', itemStyle: { color: '#27ae60' } },
                        { name: '衍生品开发', itemStyle: { color: '#f39c12' } },
                        { name: '线下体验', itemStyle: { color: '#e74c3c' } },
                        { name: '品牌授权', itemStyle: { color: '#9b59b6' } },
                        { name: '游戏联动', itemStyle: { color: '#1abc9c' } },
                        { name: '海外发行', itemStyle: { color: '#34495e' } }
                    ],
                    links: [
                        { source: 'IP创作', target: '内容制作', value: 30 },
                        { source: '内容制作', target: '播出发行', value: 25 },
                        { source: '播出发行', target: '衍生品开发', value: 15 },
                        { source: '播发出行', target: '线下体验', value: 8 },
                        { source: '播出发行', target: '品牌授权', value: 12 },
                        { source: '衍生品开发', target: '游戏联动', value: 10 },
                        { source: '品牌授权', target: '海外发行', value: 8 },
                        { source: '线下体验', target: '海外发行', value: 5 },
                        { source: 'IP创作', target: '品牌授权', value: 5 },
                        { source: '内容制作', target: '游戏联动', value: 5 }
                    ],
                    lineStyle: {
                        color: 'source',
                        curveness: 0.5,
                        opacity: 0.7
                    },
                    itemStyle: {
                        borderWidth: 0,
                        borderRadius: 5
                    },
                    label: {
                        color: '#2c3e50',
                        fontSize: 12,
                        fontWeight: 'bold'
                    }
                }]
            };

            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }

        function initializeMonetizationChannelChart() {
            const dom = document.getElementById('monetizationChannelChart');
            if (!dom) return;

            const chart = echarts.init(dom);
            
            const option = {
                backgroundColor: 'transparent',
                title: {
                    text: '多渠道变现格局',
                    left: 'center',
                    textStyle: { 
                        color: '#2c3e50', 
                        fontSize: 16 
                    }
                },
                tooltip: {
                    trigger: 'item',
                    backgroundColor: 'rgba(255,255,255,0.95)',
                    borderColor: '#3498db',
                    textStyle: { color: '#2c3e50' },
                    formatter: '{b}: {c}%'
                },
                series: [{
                    type: 'pie',
                    radius: ['30%', '150%'],
                    center: ['50%', '50%'],
                    roseType: 'area',
                    itemStyle: {
                        borderRadius: 8,
                        borderColor: '#fff',
                        borderWidth: 2
                    },
                    label: {
                        show: true,
                        color: '#2c3e50',
                        formatter: '{b}\n{c}%',
                        fontSize: 12,
                        fontWeight: 'bold'
                    },
                    labelLine: {
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.5)' 
                        }
                    },
                    data: [
                        { 
                            value: 62, 
                            name: '直营电商', 
                            itemStyle: { color: '#3498db' },
                            emphasis: {
                                itemStyle: {
                                    shadowBlur: 15,
                                    shadowColor: 'rgba(52, 152, 219, 0.5)'
                                }
                            }
                        },
                        { 
                            value: 18, 
                            name: '线下门店', 
                            itemStyle: { color: '#e67e22' },
                            emphasis: {
                                itemStyle: {
                                    shadowBlur: 15,
                                    shadowColor: 'rgba(230, 126, 34, 0.5)'
                                }
                            }
                        },
                        { 
                            value: 12, 
                            name: '授权合作', 
                            itemStyle: { color: '#27ae60' },
                            emphasis: {
                                itemStyle: {
                                    shadowBlur: 15,
                                    shadowColor: 'rgba(39, 174, 96, 0.5)'
                                }
                            }
                        },
                        { 
                            value: 5, 
                            name: '直播带货', 
                            itemStyle: { color: '#f39c12' },
                            emphasis: {
                                itemStyle: {
                                    shadowBlur: 15,
                                    shadowColor: 'rgba(243, 156, 18, 0.5)'
                                }
                            }
                        },
                        { 
                            value: 3, 
                            name: '其他渠道', 
                            itemStyle: { color: '#e74c3c' },
                            emphasis: {
                                itemStyle: {
                                    shadowBlur: 15,
                                    shadowColor: 'rgba(231, 76, 60, 0.5)'
                                }
                            }
                        }
                    ],
                    emphasis: {
                        itemStyle: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowColor: 'rgba(0, 0, 0, 0.2)'
                        }
                    }
                }]
            };

            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }

        function initializeTopIpRevenueChart() {
            const dom = document.getElementById('topIpRevenueChart');
            if (!dom) return;

            const chart = echarts.init(dom);
            
            const option = {
                backgroundColor: 'transparent',
                title: {
                    text: '头部IP多元化收益对比',
                    left: 'center',
                    textStyle: { 
                        color: '#2c3e50', 
                        fontSize: 20,
                        fontWeight: 'bold'
                    }
                },
                tooltip: {
                    trigger: 'axis',
                    backgroundColor: 'rgba(255,255,255,0.95)',
                    borderColor: '#3498db',
                    borderWidth: 2,
                    textStyle: { color: '#2c3e50' },
                    formatter: function(params) {
                        let result = `<strong>${params[0].name}</strong><br/>`;
                        params.forEach(item => {
                            result += `${item.marker} ${item.seriesName}: <span style="font-weight:bold">${item.value}亿元</span><br/>`;
                        });
                        return result;
                    }
                },
                legend: {
                    data: ['电影票房', '衍生品', '授权收入', '游戏联动', '线下体验'],
                    bottom: 0,
                    textStyle: { 
                        color: '#7f8c8d',
                        fontSize: 12
                    }
                },
                xAxis: {
                    type: 'category',
                    data: ['哪吒之魔童降世', '姜子牙', '大圣归来', '熊出没系列', '喜羊羊系列', '白蛇缘起', '罗小黑战记', '风语咒'],
                    axisLabel: { 
                        color: '#7f8c8d',
                        interval: 0,
                        rotate: 30,
                        fontSize: 11
                    },
                    axisLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.3)' 
                        } 
                    },
                    axisTick: {
                        alignWithLabel: true
                    }
                },
                yAxis: {
                    type: 'value',
                    name: '收入(亿元)',
                    nameTextStyle: { 
                        color: '#7f8c8d',
                        fontSize: 14
                    },
                    axisLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.3)' 
                        } 
                    },
                    axisLabel: { 
                        color: '#7f8c8d',
                        fontSize: 12
                    },
                    splitLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.1)',
                            type: 'dashed'
                        } 
                    }
                },
                series: [
                    {
                        name: '电影票房',
                        type: 'bar',
                        stack: 'total',
                        data: [50.35, 16.02, 9.56, 8.23, 6.45, 4.68, 3.15, 1.12],
                        itemStyle: { 
                            color: '#3498db',
                            borderRadius: [5, 5, 0, 0]
                        },
                        emphasis: {
                            itemStyle: {
                                shadowBlur: 10,
                                shadowColor: 'rgba(52, 152, 219, 0.5)'
                            }
                        }
                    },
                    {
                        name: '衍生品',
                        type: 'bar',
                        stack: 'total',
                        data: [8.2, 3.8, 2.1, 4.5, 3.2, 1.5, 0.8, 0.3],
                        itemStyle: { 
                            color: '#e67e22'
                        },
                        emphasis: {
                            itemStyle: {
                                shadowBlur: 10,
                                shadowColor: 'rgba(230, 126, 34, 0.5)'
                            }
                        }
                    },
                    {
                        name: '授权收入',
                        type: 'bar',
                        stack: 'total',
                        data: [2.5, 1.2, 0.8, 2.8, 1.8, 0.6, 0.4, 0.1],
                        itemStyle: { 
                            color: '#27ae60'
                        },
                        emphasis: {
                            itemStyle: {
                                shadowBlur: 10,
                                shadowColor: 'rgba(39, 174, 96, 0.5)'
                            }
                        }
                    },
                    {
                        name: '游戏联动',
                        type: 'bar',
                        stack: 'total',
                        data: [1.8, 0.9, 0.7, 1.5, 1.2, 0.4, 0.3, 0.1],
                        itemStyle: { 
                            color: '#f39c12'
                        },
                        emphasis: {
                            itemStyle: {
                                shadowBlur: 10,
                                shadowColor: 'rgba(243, 156, 18, 0.5)'
                            }
                        }
                    },
                    {
                        name: '线下体验',
                        type: 'bar',
                        stack: 'total',
                        data: [0.8, 0.4, 0.2, 1.8, 0.9, 0.2, 0.1, 0.05],
                        itemStyle: { 
                            color: '#e74c3c'
                        },
                        emphasis: {
                            itemStyle: {
                                shadowBlur: 10,
                                shadowColor: 'rgba(231, 76, 60, 0.5)'
                            }
                        }
                    }
                ],
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '15%',
                    top: '15%',
                    containLabel: true
                }
            };

            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }

        function initializeIpLifecycleChart() {
            const dom = document.getElementById('ipLifecycleChart');
            if (!dom) return;

            const chart = echarts.init(dom);
            
            const option = {
                backgroundColor: 'transparent',
                title: {
                    text: 'IP生命周期价值创造曲线',
                    left: 'center',
                    textStyle: { 
                        color: '#2c3e50', 
                        fontSize: 20,
                        fontWeight: 'bold'
                    }
                },
                tooltip: {
                    trigger: 'axis',
                    backgroundColor: 'rgba(255,255,255,0.95)',
                    borderColor: '#3498db',
                    borderWidth: 2,
                    textStyle: { color: '#2c3e50' },
                    formatter: function(params) {
                        const phases = ['萌芽期', '成长期', '成熟期', '衰退期', '再生期'];
                        const phaseDesc = [
                            'IP概念形成，市场认知度低',
                            '内容发布，用户快速增长',
                            '商业价值最大化，多元化变现',
                            '热度下降，价值挖掘见底',
                            'IP重启，价值再造'
                        ];
                        return `<strong>${params[0].name}阶段</strong><br/>${phaseDesc[params[0].dataIndex]}<br/>价值指数: <span style="font-weight:bold">${params[0].value}</span>`;
                    }
                },
                xAxis: {
                    type: 'category',
                    data: ['萌芽期', '成长期', '成熟期', '衰退期', '再生期'],
                    axisLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.3)' 
                        } 
                    },
                    axisLabel: { 
                        color: '#7f8c8d',
                        fontSize: 12
                    },
                    axisTick: {
                        alignWithLabel: true
                    }
                },
                yAxis: {
                    type: 'value',
                    name: '价值指数',
                    nameTextStyle: { 
                        color: '#7f8c8d',
                        fontSize: 14
                    },
                    axisLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.3)' 
                        } 
                    },
                    axisLabel: { 
                        color: '#7f8c8d',
                        fontSize: 12
                    },
                    splitLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.1)',
                            type: 'dashed'
                        } 
                    }
                },
                series: [
                    {
                        name: '价值曲线',
                        type: 'line',
                        smooth: true,
                        symbol: 'circle',
                        symbolSize: 10,
                        data: [15, 45, 85, 35, 55],
                        lineStyle: {
                            color: '#3498db',
                            width: 4,
                            shadowBlur: 8,
                            shadowColor: 'rgba(52, 152, 219, 0.3)'
                        },
                        areaStyle: {
                            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                                { offset: 0, color: 'rgba(52, 152, 219, 0.4)' },
                                { offset: 1, color: 'rgba(52, 152, 219, 0)' }
                            ])
                        },
                        emphasis: {
                            scale: 1.5,
                            itemStyle: {
                                borderColor: '#fff',
                                borderWidth: 2
                            }
                        },
                        markPoint: {
                            data: [
                                { 
                                    type: 'max', 
                                    name: '价值峰值', 
                                    itemStyle: { 
                                        color: '#e67e22',
                                        borderColor: '#fff',
                                        borderWidth: 2
                                    },
                                    label: {
                                        color: '#2c3e50',
                                        backgroundColor: 'rgba(255,255,255,0.9)',
                                        borderColor: '#3498db',
                                        borderWidth: 1,
                                        borderRadius: 4,
                                        padding: [5, 10]
                                    }
                                },
                                { 
                                    type: 'min', 
                                    name: '价值低谷', 
                                    itemStyle: { 
                                        color: '#e74c3c',
                                        borderColor: '#fff',
                                        borderWidth: 2
                                    },
                                    label: {
                                        color: '#2c3e50',
                                        backgroundColor: 'rgba(255,255,255,0.9)',
                                        borderColor: '#3498db',
                                        borderWidth: 1,
                                        borderRadius: 4,
                                        padding: [5, 10]
                                    }
                                }
                            ]
                        }
                    },
                    {
                        name: '成熟期延长线',
                        type: 'line',
                        smooth: true,
                        lineStyle: {
                            color: '#e67e22',
                            type: 'dashed',
                            width: 2
                        },
                        data: [null, null, 85, 75, 65],
                        symbol: 'none'
                    }
                ],
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    top: '15%',
                    containLabel: true
                }
            };

            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }

        function initializeIpValueMatrixChart() {
            const dom = document.getElementById('ipValueMatrixChart');
            if (!dom) return;

            const chart = echarts.init(dom);
            
            const option = {
                backgroundColor: 'transparent',
                title: {
                    text: '知名度与粘性矩阵分析',
                    left: 'center',
                    textStyle: { 
                        color: '#2c3e50', 
                        fontSize: 20 
                    }
                },
                tooltip: {
                    backgroundColor: 'rgba(255,255,255,0.95)',
                    borderColor: '#3498db',
                    textStyle: { color: '#2c3e50' },
                    formatter: function(params) {
                        return `<strong>${params.data.name}</strong><br/>知名度: ${params.data.value[0]}<br/>用户粘性: ${params.data.value[1]}<br/>市场规模: ${params.data.value[2]}亿元`;
                    }
                },
                xAxis: {
                    type: 'value',
                    name: '知名度指数',
                    nameTextStyle: { color: '#7f8c8d' },
                    axisLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.3)' 
                        } 
                    },
                    axisLabel: { color: '#7f8c8d' },
                    splitLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.1)' 
                        } 
                    }
                },
                yAxis: {
                    type: 'value',
                    name: '用户粘性指数',
                    nameTextStyle: { color: '#7f8c8d' },
                    axisLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.3)' 
                        } 
                    },
                    axisLabel: { color: '#7f8c8d' },
                    splitLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.1)' 
                        } 
                    }
                },
                series: [{
                    type: 'scatter',
                    symbolSize: function(data) {
                        return Math.sqrt(data[2]) * 5;
                    },
                    itemStyle: {
                        color: function(params) {
                            const colors = ['#3498db', '#e67e22', '#27ae60', '#f39c12', '#e74c3c', '#9b59b6'];
                            return colors[params.dataIndex % colors.length];
                        },
                        opacity: 0.8,
                        shadowBlur: 5,
                        shadowColor: 'rgba(0, 0, 0, 0.2)'
                    },
                    emphasis: {
                        scale: 1.5,
                        itemStyle: {
                            opacity: 1,
                            shadowBlur: 10,
                            shadowColor: 'rgba(0, 0, 0, 0.3)'
                        }
                    },
                    data: [
                        { name: '哪吒', value: [95, 88, 50.35] },
                        { name: '大圣归来', value: [85, 82, 9.56] },
                        { name: '姜子牙', value: [78, 75, 16.02] },
                        { name: '熊出没', value: [72, 85, 8.23] },
                        { name: '喜羊羊', value: [68, 78, 6.45] },
                        { name: '白蛇缘起', value: [65, 70, 4.68] },
                        { name: '罗小黑', value: [58, 72, 3.15] },
                        { name: '风语咒', value: [45, 55, 1.12] }
                    ]
                }],
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    top: '15%',
                    containLabel: true
                }
            };

            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }

        function initializeUserPaymentChart() {
            const dom = document.getElementById('userPaymentChart');
            if (!dom) return;

            const chart = echarts.init(dom);
            
            const option = {
                backgroundColor: 'transparent',
                title: {
                    text: '用户付费行为分析',
                    left: 'center',
                    textStyle: { 
                        color: '#2c3e50', 
                        fontSize: 20,
                        fontWeight: 'bold'
                    }
                },
                tooltip: {
                    trigger: 'axis',
                    backgroundColor: 'rgba(255,255,255,0.95)',
                    borderColor: '#3498db',
                    textStyle: { color: '#2c3e50' }
                },
                legend: {
                    data: ['付费意愿', '付费频次', '付费金额'],
                    bottom: 0,
                    textStyle: { 
                        color: '#7f8c8d',
                        fontSize: 12
                    }
                },
                xAxis: {
                    type: 'category',
                    data: ['18岁以下', '18-25岁', '26-35岁', '36-45岁', '45岁以上'],
                    axisLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.3)' 
                        } 
                    },
                    axisLabel: { 
                        color: '#7f8c8d',
                        fontSize: 12
                    }
                },
                yAxis: [
                    {
                        type: 'value',
                        name: '意愿/频次(%)',
                        nameTextStyle: { color: '#7f8c8d' },
                        axisLine: { 
                            lineStyle: { 
                                color: 'rgba(52, 152, 219, 0.3)' 
                            } 
                        },
                        axisLabel: { color: '#7f8c8d' },
                        splitLine: { 
                            lineStyle: { 
                                color: 'rgba(52, 152, 219, 0.1)' 
                            } 
                        }
                    },
                    {
                        type: 'value',
                        name: '金额(元)',
                        nameTextStyle: { color: '#7f8c8d' },
                        axisLine: { 
                            lineStyle: { 
                                color: 'rgba(52, 152, 219, 0.3)' 
                            } 
                        },
                        axisLabel: { color: '#7f8c8d' }
                    }
                ],
                series: [
                    {
                        name: '付费意愿',
                        type: 'bar',
                        data: [45, 78, 85, 65, 35],
                        itemStyle: { 
                            color: '#3498db',
                            borderRadius: [5, 5, 0, 0]
                        }
                    },
                    {
                        name: '付费频次',
                        type: 'bar',
                        data: [32, 65, 72, 48, 28],
                        itemStyle: { 
                            color: '#e67e22',
                            borderRadius: [5, 5, 0, 0]
                        }
                    },
                    {
                        name: '付费金额',
                        type: 'line',
                        yAxisIndex: 1,
                        smooth: true,
                        symbol: 'circle',
                        symbolSize: 8,
                        data: [85, 180, 320, 280, 120],
                        lineStyle: {
                            color: '#27ae60',
                            width: 3,
                            shadowBlur: 5,
                            shadowColor: 'rgba(39, 174, 96, 0.3)'
                        }
                    }
                ],
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '10%',
                    top: '15%',
                    containLabel: true
                }
            };

            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }

        // ==========================================================================
        // 落地体验图表实现
        // ==========================================================================
        function initializeParkDistributionChart() {
            const dom = document.getElementById('parkDistributionChart');
            if (!dom) return;

            const chart = echarts.init(dom);
            
            const option = {
                backgroundColor: 'transparent',
                title: {
                    text: '区域分布与客流量分析',
                    left: 'center',
                    textStyle: { 
                        color: '#2c3e50', 
                        fontSize: 16 
                    }
                },
                tooltip: {
                    backgroundColor: 'rgba(255,255,255,0.95)',
                    borderColor: '#3498db',
                    textStyle: { color: '#2c3e50' },
                    formatter: function(params) {
                        return `${params.name}<br/>场馆数量: ${params.value[2]}个<br/>年客流量: ${params.value[3]}万人次`;
                    }
                },
                series: [{
                    type: 'scatter',
                    symbolSize: function(data) {
                        return Math.sqrt(data[2]) * 8;
                    },
                    itemStyle: {
                        color: new echarts.graphic.LinearGradient(0, 0, 1, 1, [
                            { offset: 0, color: '#3498db' },
                            { offset: 1, color: '#e67e22' }
                        ]),
                        opacity: 0.8,
                        shadowBlur: 5,
                        shadowColor: 'rgba(0, 0, 0, 0.2)'
                    },
                    emphasis: {
                        scale: 1.5,
                        itemStyle: {
                            opacity: 1,
                            shadowBlur: 10,
                            shadowColor: 'rgba(0, 0, 0, 0.3)'
                        }
                    },
                    label: {
                        show: true,
                        formatter: '{b}',
                        position: 'top',
                        color: '#2c3e50',
                        fontSize: 11,
                        fontWeight: 'bold'
                    },
                    data: [
                        { name: '北京', value: [116.46, 39.92, 12, 850] },
                        { name: '上海', value: [121.48, 31.22, 10, 720] },
                        { name: '广州', value: [113.23, 23.16, 8, 580] },
                        { name: '深圳', value: [114.07, 22.62, 7, 520] },
                        { name: '杭州', value: [120.19, 30.26, 5, 380] },
                        { name: '成都', value: [104.06, 30.67, 4, 320] },
                        { name: '武汉', value: [114.31, 30.52, 3, 280] },
                        { name: '西安', value: [108.95, 34.27, 2, 220] },
                        { name: '重庆', value: [106.54, 29.59, 3, 260] },
                        { name: '南京', value: [118.78, 32.04, 2, 180] }
                    ]
                }],
                xAxis: {
                    type: 'value',
                    name: '经度',
                    nameTextStyle: { color: '#7f8c8d' },
                    axisLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.3)' 
                        } 
                    },
                    axisLabel: { color: '#7f8c8d' },
                    splitLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.1)' 
                        } 
                    }
                },
                yAxis: {
                    type: 'value',
                    name: '纬度',
                    nameTextStyle: { color: '#7f8c8d' },
                    axisLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.3)' 
                        } 
                    },
                    axisLabel: { color: '#7f8c8d' },
                    splitLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.1)' 
                        } 
                    }
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    top: '15%',
                    containLabel: true
                }
            };

            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }

        function initializeVisitorProfileChart() {
            const dom = document.getElementById('visitorProfileChart');
            if (!dom) return;

            const chart = echarts.init(dom);
            
            const option = {
                backgroundColor: 'transparent',
                title: {
                    text: '年龄与消费行为交叉分析',
                    left: 'center',
                    textStyle: { 
                        color: '#2c3e50', 
                        fontSize: 16 
                    }
                },
                tooltip: {
                    trigger: 'axis',
                    backgroundColor: 'rgba(255,255,255,0.95)',
                    borderColor: '#3498db',
                    textStyle: { color: '#2c3e50' },
                    formatter: function(params) {
                        let result = `<strong>${params[0].name}</strong><br/>`;
                        params.forEach(item => {
                            const unit = item.seriesName === '人均消费' ? '元' : '%';
                            result += `${item.marker} ${item.seriesName}: <span style="font-weight:bold">${item.value}${unit}</span><br/>`;
                        });
                        return result;
                    }
                },
                legend: {
                    data: ['游客占比', '人均消费'],
                    bottom: 0,
                    textStyle: { 
                        color: '#7f8c8d',
                        fontSize: 12
                    }
                },
                xAxis: {
                    type: 'category',
                    data: ['18岁以下', '18-25岁', '26-35岁', '36-45岁', '45岁以上'],
                    axisLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.3)' 
                        } 
                    },
                    axisLabel: { 
                        color: '#7f8c8d',
                        fontSize: 12
                    }
                },
                yAxis: [
                    {
                        type: 'value',
                        name: '占比(%)',
                        nameTextStyle: { color: '#7f8c8d' },
                        axisLine: { 
                            lineStyle: { 
                                color: 'rgba(52, 152, 219, 0.3)' 
                            } 
                        },
                        axisLabel: { color: '#7f8c8d' },
                        splitLine: { 
                            lineStyle: { 
                                color: 'rgba(52, 152, 219, 0.1)',
                                type: 'dashed'
                            } 
                        }
                    },
                    {
                        type: 'value',
                        name: '人均消费(元)',
                        nameTextStyle: { color: '#7f8c8d' },
                        axisLine: { 
                            lineStyle: { 
                                color: 'rgba(52, 152, 219, 0.3)' 
                            } 
                        },
                        axisLabel: { color: '#7f8c8d' }
                    }
                ],
                series: [
                    {
                        name: '游客占比',
                        type: 'bar',
                        data: [15, 45, 25, 10, 5],
                        itemStyle: { 
                            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                                { offset: 0, color: '#3498db' },
                                { offset: 1, color: '#2980b9' }
                            ]),
                            borderRadius: [5, 5, 0, 0]
                        },
                        emphasis: {
                            itemStyle: {
                                shadowBlur: 10,
                                shadowColor: 'rgba(52, 152, 219, 0.5)'
                            }
                        }
                    },
                    {
                        name: '人均消费',
                        type: 'line',
                        yAxisIndex: 1,
                        smooth: true,
                        symbol: 'circle',
                        symbolSize: 8,
                        data: [180, 320, 450, 380, 280],
                        lineStyle: {
                            color: '#e67e22',
                            width: 3,
                            shadowBlur: 5,
                            shadowColor: 'rgba(230, 126, 34, 0.3)'
                        },
                        emphasis: {
                            scale: 1.5,
                            itemStyle: {
                                borderColor: '#fff',
                                borderWidth: 2
                            }
                        }
                    }
                ],
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '10%',
                    top: '15%',
                    containLabel: true
                }
            };

            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }

        function initializeExperienceComparisonChart() {
            const dom = document.getElementById('experienceComparisonChart');
            if (!dom) return;

            const chart = echarts.init(dom);
            
            const option = {
                backgroundColor: 'transparent',
                title: {
                    text: '多维度体验效果评估',
                    left: 'center',
                    textStyle: { 
                        color: '#2c3e50', 
                        fontSize: 20,
                        fontWeight: 'bold'
                    }
                },
                tooltip: {
                    backgroundColor: 'rgba(255,255,255,0.95)',
                    borderColor: '#3498db',
                    textStyle: { color: '#2c3e50' },
                    formatter: function(params) {
                        return `<strong>${params.seriesName}</strong><br/>${params.name}: ${params.value}分`;
                    }
                },
                legend: {
                    data: ['熊出没', '喜羊羊', '猪猪侠', '赛尔号'],
                    bottom: 0,
                    textStyle: { 
                        color: '#7f8c8d',
                        fontSize: 12
                    }
                },
                radar: [{
                    indicator: [
                        { name: '主题鲜明度', max: 10 },
                        { name: '互动体验', max: 10 },
                        { name: '教育意义', max: 10 },
                        { name: '娱乐性', max: 10 },
                        { name: '重复游玩', max: 10 },
                        { name: '性价比', max: 10 }
                    ],
                    center: ['50%', '50%'],
                    radius: 150,
                    name: {
                        textStyle: {
                            color: '#2c3e50',
                            fontSize: 14,
                            fontWeight: 'bold'
                        }
                    },
                    splitLine: {
                        lineStyle: {
                            color: 'rgba(52, 152, 219, 0.2)'
                        }
                    },
                    splitArea: {
                        show: true,
                        areaStyle: {
                            color: ['rgba(52, 152, 219, 0.05)', 'rgba(52, 152, 219, 0.1)']
                        }
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'rgba(52, 152, 219, 0.3)'
                        }
                    }
                }],
                series: [
                    {
                        name: '熊出没',
                        type: 'radar',
                        radarIndex: 0,
                        data: [{ 
                            value: [9.5, 8.8, 8.5, 9.2, 8.0, 8.8],
                            lineStyle: { 
                                color: '#3498db', 
                                width: 2,
                                shadowBlur: 5
                            },
                            areaStyle: { 
                                color: 'rgba(52, 152, 219, 0.3)' 
                            },
                            symbol: 'circle',
                            symbolSize: 6,
                            emphasis: {
                                scale: 1.2,
                                itemStyle: {
                                    borderColor: '#fff',
                                    borderWidth: 2
                                }
                            }
                        }]
                    },
                    {
                        name: '喜羊羊',
                        type: 'radar',
                        radarIndex: 0,
                        data: [{ 
                            value: [8.5, 8.0, 7.5, 8.8, 7.2, 8.5],
                            lineStyle: { 
                                color: '#e67e22', 
                                width: 2,
                                shadowBlur: 5
                            },
                            areaStyle: { 
                                color: 'rgba(230, 126, 34, 0.3)' 
                            },
                            symbol: 'circle',
                            symbolSize: 6,
                            emphasis: {
                                scale: 1.2,
                                itemStyle: {
                                    borderColor: '#fff',
                                    borderWidth: 2
                                }
                            }
                        }]
                    },
                    {
                        name: '猪猪侠',
                        type: 'radar',
                        radarIndex: 0,
                        data: [{ 
                            value: [7.8, 7.5, 7.8, 8.2, 6.8, 8.0],
                            lineStyle: { 
                                color: '#27ae60', 
                                width: 2,
                                shadowBlur: 5
                            },
                            areaStyle: { 
                                color: 'rgba(39, 174, 96, 0.3)' 
                            },
                            symbol: 'circle',
                            symbolSize: 6,
                            emphasis: {
                                scale: 1.2,
                                itemStyle: {
                                    borderColor: '#fff',
                                    borderWidth: 2
                                }
                            }
                        }]
                    },
                    {
                        name: '赛尔号',
                        type: 'radar',
                        radarIndex: 0,
                        data: [{ 
                            value: [7.2, 7.8, 7.0, 7.5, 6.5, 7.5],
                            lineStyle: { 
                                color: '#f39c12', 
                                width: 2,
                                shadowBlur: 5
                            },
                            areaStyle: { 
                                color: 'rgba(243, 156, 18, 0.3)' 
                            },
                            symbol: 'circle',
                            symbolSize: 6,
                            emphasis: {
                                scale: 1.2,
                                itemStyle: {
                                    borderColor: '#fff',
                                    borderWidth: 2
                                }
                            }
                        }]
                    }
                ]
            };

            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }

        function initializeTwoDimSpaceChart() {
            const dom = document.getElementById('twoDimSpaceChart');
            if (!dom) return;

            const chart = echarts.init(dom);
            
            const option = {
                backgroundColor: 'transparent',
                title: {
                    text: '从线上到线下的融合发展',
                    left: 'center',
                    textStyle: { 
                        color: '#2c3e50', 
                        fontSize: 20,
                        fontWeight: 'bold'
                    }
                },
                tooltip: {
                    trigger: 'axis',
                    backgroundColor: 'rgba(255,255,255,0.95)',
                    borderColor: '#3498db',
                    textStyle: { color: '#2c3e50' }
                },
                legend: {
                    data: ['线上内容消费', '线下体验消费', 'IP衍生品', '品牌联动'],
                    bottom: 0,
                    textStyle: { 
                        color: '#7f8c8d',
                        fontSize: 12
                    }
                },
                xAxis: {
                    type: 'category',
                    data: ['2018', '2019', '2020', '2021', '2022', '2023', '2024E'],
                    axisLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.3)' 
                        } 
                    },
                    axisLabel: { 
                        color: '#7f8c8d',
                        fontSize: 12
                    }
                },
                yAxis: {
                    type: 'value',
                    name: '市场规模(亿元)',
                    nameTextStyle: { 
                        color: '#7f8c8d',
                        fontSize: 14
                    },
                    axisLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.3)' 
                        } 
                    },
                    axisLabel: { 
                        color: '#7f8c8d',
                        fontSize: 12
                    },
                    splitLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.1)',
                            type: 'dashed'
                        } 
                    }
                },
                series: [
                    {
                        name: '线上内容消费',
                        type: 'line',
                        smooth: true,
                        symbol: 'circle',
                        symbolSize: 8,
                        data: [120, 145, 168, 192, 215, 238, 265],
                        lineStyle: {
                            color: '#3498db',
                            width: 3,
                            shadowBlur: 5,
                            shadowColor: 'rgba(52, 152, 219, 0.3)'
                        },
                        areaStyle: { 
                            color: 'rgba(52, 152, 219, 0.3)' 
                        },
                        emphasis: {
                            scale: 1.5,
                            itemStyle: {
                                borderColor: '#fff',
                                borderWidth: 2
                            }
                        }
                    },
                    {
                        name: '线下体验消费',
                        type: 'line',
                        smooth: true,
                        symbol: 'circle',
                        symbolSize: 8,
                        data: [45, 58, 72, 89, 108, 132, 158],
                        lineStyle: {
                            color: '#e67e22',
                            width: 3,
                            shadowBlur: 5,
                            shadowColor: 'rgba(230, 126, 34, 0.3)'
                        },
                        areaStyle: { 
                            color: 'rgba(230, 126, 34, 0.3)' 
                        },
                        emphasis: {
                            scale: 1.5,
                            itemStyle: {
                                borderColor: '#fff',
                                borderWidth: 2
                            }
                        }
                    },
                    {
                        name: 'IP衍生品',
                        type: 'line',
                        smooth: true,
                        symbol: 'circle',
                        symbolSize: 8,
                        data: [280, 320, 365, 410, 465, 520, 580],
                        lineStyle: {
                            color: '#27ae60',
                            width: 3,
                            shadowBlur: 5,
                            shadowColor: 'rgba(39, 174, 96, 0.3)'
                        },
                        areaStyle: { 
                            color: 'rgba(39, 174, 96, 0.3)' 
                        },
                        emphasis: {
                            scale: 1.5,
                            itemStyle: {
                                borderColor: '#fff',
                                borderWidth: 2
                            }
                        }
                    },
                    {
                        name: '品牌联动',
                        type: 'line',
                        smooth: true,
                        symbol: 'circle',
                        symbolSize: 8,
                        data: [35, 42, 48, 56, 65, 74, 85],
                        lineStyle: {
                            color: '#f39c12',
                            width: 3,
                            shadowBlur: 5,
                            shadowColor: 'rgba(243, 156, 18, 0.3)'
                        },
                        areaStyle: { 
                            color: 'rgba(243, 156, 18, 0.3)' 
                        },
                        emphasis: {
                            scale: 1.5,
                            itemStyle: {
                                borderColor: '#fff',
                                borderWidth: 2
                            }
                        }
                    }
                ],
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '10%',
                    top: '15%',
                    containLabel: true
                }
            };

            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }

        function initializeConsumptionPatternChart() {
            const dom = document.getElementById('consumptionPatternChart');
            if (!dom) return;

            const chart = echarts.init(dom);
            
            const option = {
                backgroundColor: 'transparent',
                title: {
                    text: '消费行为时间分布分析',
                    left: 'center',
                    textStyle: { 
                        color: '#2c3e50', 
                        fontSize: 20 
                    }
                },
                tooltip: {
                    trigger: 'axis',
                    backgroundColor: 'rgba(255,255,255,0.95)',
                    borderColor: '#3498db',
                    textStyle: { color: '#2c3e50' }
                },
                legend: {
                    data: ['工作日', '周末', '节假日'],
                    bottom: 0,
                    textStyle: { 
                        color: '#7f8c8d',
                        fontSize: 12
                    }
                },
                xAxis: {
                    type: 'category',
                    data: ['00:00', '03:00', '06:00', '09:00', '12:00', '15:00', '18:00', '21:00'],
                    axisLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.3)' 
                        } 
                    },
                    axisLabel: { 
                        color: '#7f8c8d',
                        fontSize: 12
                    }
                },
                yAxis: {
                    type: 'value',
                    name: '客流量占比(%)',
                    nameTextStyle: { color: '#7f8c8d' },
                    axisLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.3)' 
                        } 
                    },
                    axisLabel: { 
                        color: '#7f8c8d',
                        fontSize: 12
                    },
                    splitLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.1)',
                            type: 'dashed'
                        } 
                    }
                },
                series: [
                    {
                        name: '工作日',
                        type: 'line',
                        smooth: true,
                        symbol: 'circle',
                        symbolSize: 6,
                        data: [5, 3, 8, 15, 35, 28, 45, 25],
                        lineStyle: {
                            color: '#3498db',
                            width: 3
                        },
                        areaStyle: { 
                            color: 'rgba(52, 152, 219, 0.1)' 
                        }
                    },
                    {
                        name: '周末',
                        type: 'line',
                        smooth: true,
                        symbol: 'circle',
                        symbolSize: 6,
                        data: [8, 5, 12, 25, 45, 38, 55, 35],
                        lineStyle: {
                            color: '#e67e22',
                            width: 3
                        },
                        areaStyle: { 
                            color: 'rgba(230, 126, 34, 0.1)' 
                        }
                    },
                    {
                        name: '节假日',
                        type: 'line',
                        smooth: true,
                        symbol: 'circle',
                        symbolSize: 6,
                        data: [15, 8, 18, 35, 55, 48, 65, 45],
                        lineStyle: {
                            color: '#27ae60',
                            width: 3
                        },
                        areaStyle: { 
                            color: 'rgba(39, 174, 96, 0.1)' 
                        }
                    }
                ],
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '10%',
                    top: '15%',
                    containLabel: true
                }
            };

            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }

        function initializeSatisfactionMatrixChart() {
            const dom = document.getElementById('satisfactionMatrixChart');
            if (!dom) return;

            const chart = echarts.init(dom);
            
            const option = {
                backgroundColor: 'transparent',
                title: {
                    text: '满意度评估矩阵',
                    left: 'center',
                    textStyle: { 
                        color: '#2c3e50', 
                        fontSize: 20 
                    }
                },
                tooltip: {
                    backgroundColor: 'rgba(255,255,255,0.95)',
                    borderColor: '#3498db',
                    textStyle: { color: '#2c3e50' },
                    formatter: function(params) {
                        return `<strong>${params.seriesName}</strong><br/>服务品质: ${params.data[0]}<br/>IP还原度: ${params.data[1]}<br/>性价比: ${params.data[2]}`;
                    }
                },
                legend: {
                    data: ['熊出没', '喜羊羊', '猪猪侠'],
                    bottom: 0,
                    textStyle: { 
                        color: '#7f8c8d',
                        fontSize: 12
                    }
                },
                xAxis: {
                    type: 'value',
                    name: '服务品质',
                    nameTextStyle: { color: '#7f8c8d' },
                    axisLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.3)' 
                        } 
                    },
                    axisLabel: { 
                        color: '#7f8c8d',
                        fontSize: 12
                    },
                    splitLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.1)' 
                        } 
                    }
                },
                yAxis: {
                    type: 'value',
                    name: 'IP还原度',
                    nameTextStyle: { color: '#7f8c8d' },
                    axisLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.3)' 
                        } 
                    },
                    axisLabel: { 
                        color: '#7f8c8d',
                        fontSize: 12
                    },
                    splitLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.1)' 
                        } 
                    }
                },
                visualMap: {
                    min: 0,
                    max: 10,
                    dimension: 2,
                    orient: 'vertical',
                    right: '5%',
                    top: 'center',
                    textStyle: { color: '#7f8c8d' },
                    inRange: {
                        color: ['#ffffcc', '#c7e9b4', '#7fcdbb', '#41b6c4', '#2c7fb8']
                    }
                },
                series: [
                    {
                        name: '熊出没',
                        type: 'scatter',
                        symbolSize: function(data) {
                            return data[2] * 5;
                        },
                        itemStyle: {
                            color: '#3498db',
                            opacity: 0.8
                        },
                        emphasis: {
                            scale: 1.5,
                            itemStyle: {
                                opacity: 1,
                                shadowBlur: 10,
                                shadowColor: 'rgba(0, 0, 0, 0.3)'
                            }
                        },
                        data: [[8.5, 9.0, 8.5], [9.0, 8.5, 8.0], [8.0, 8.5, 9.0], [8.8, 8.8, 8.2], [9.2, 8.0, 8.5]]
                    },
                    {
                        name: '喜羊羊',
                        type: 'scatter',
                        symbolSize: function(data) {
                            return data[2] * 5;
                        },
                        itemStyle: {
                            color: '#e67e22',
                            opacity: 0.8
                        },
                        emphasis: {
                            scale: 1.5,
                            itemStyle: {
                                opacity: 1,
                                shadowBlur: 10,
                                shadowColor: 'rgba(0, 0, 0, 0.3)'
                            }
                        },
                        data: [[8.0, 8.5, 8.0], [8.5, 8.0, 7.5], [7.5, 8.0, 8.5], [8.2, 7.8, 8.0], [8.5, 7.5, 8.2]]
                    },
                    {
                        name: '猪猪侠',
                        type: 'scatter',
                        symbolSize: function(data) {
                            return data[2] * 5;
                        },
                        itemStyle: {
                            color: '#27ae60',
                            opacity: 0.8
                        },
                        emphasis: {
                            scale: 1.5,
                            itemStyle: {
                                opacity: 1,
                                shadowBlur: 10,
                                shadowColor: 'rgba(0, 0, 0, 0.3)'
                            }
                        },
                        data: [[7.5, 7.8, 7.5], [7.8, 7.5, 7.8], [7.8, 7.8, 7.0], [8.0, 7.2, 7.8], [7.2, 8.0, 7.5]]
                    }
                ],
                grid: {
                    left: '3%',
                    right: '15%',
                    bottom: '3%',
                    top: '15%',
                    containLabel: true
                }
            };

            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }

        // ==========================================================================
        // 出海表现图表实现
        // ==========================================================================
        function initializeGlobalBoxOfficeChart() {
            const dom = document.getElementById('globalBoxOfficeChart');
            if (!dom) return;

            const chart = echarts.init(dom);
            
            const option = {
                backgroundColor: 'transparent',
                title: {
                    text: '本土亮眼，海外遇冷',
                    left: 'center',
                    textStyle: { 
                        color: '#2c3e50', 
                        fontSize: 16 
                    }
                },
                tooltip: {
                    trigger: 'axis',
                    backgroundColor: 'rgba(255,255,255,0.95)',
                    borderColor: '#3498db',
                    textStyle: { color: '#2c3e50' },
                    formatter: function(params) {
                        const ratio = ((params[1].value / params[0].value) * 100).toFixed(1);
                        return `<strong>${params[0].name}</strong><br/>${params[0].seriesName}: ${params[0].value}亿元<br/>${params[1].seriesName}: ${params[1].value}亿元<br/>海外占比: <span style="font-weight:bold;color:${ratio > 5 ? '#27ae60' : '#e74c3c'}">${ratio}%</span>`;
                    }
                },
                legend: {
                    data: ['本土票房', '海外票房'],
                    bottom: 0,
                    textStyle: { 
                        color: '#7f8c8d',
                        fontSize: 12
                    }
                },
                xAxis: {
                    type: 'category',
                    data: ['哪吒之魔童降世', '姜子牙', '大圣归来', '白蛇缘起', '罗小黑战记', '风语咒', '大鱼海棠', '大护法'],
                    axisLabel: { 
                        color: '#7f8c8d',
                        interval: 0,
                        rotate: 30,
                        fontSize: 11
                    },
                    axisLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.3)' 
                        } 
                    },
                    axisTick: {
                        alignWithLabel: true
                    }
                },
                yAxis: {
                    type: 'value',
                    name: '票房收入(亿元)',
                    nameTextStyle: { 
                        color: '#7f8c8d',
                        fontSize: 14
                    },
                    axisLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.3)' 
                        } 
                    },
                    axisLabel: { 
                        color: '#7f8c8d',
                        fontSize: 12
                    },
                    splitLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.1)',
                            type: 'dashed'
                        } 
                    }
                },
                series: [
                    {
                        name: '本土票房',
                        type: 'bar',
                        data: [50.35, 16.02, 9.56, 4.68, 3.15, 1.12, 5.64, 0.87],
                        itemStyle: { 
                            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                                { offset: 0, color: '#3498db' },
                                { offset: 1, color: '#2980b9' }
                            ]),
                            borderRadius: [5, 5, 0, 0]
                        },
                        emphasis: {
                            itemStyle: {
                                shadowBlur: 10,
                                shadowColor: 'rgba(52, 152, 219, 0.5)'
                            }
                        }
                    },
                    {
                        name: '海外票房',
                        type: 'bar',
                        data: [0.37, 0.12, 0.08, 0.05, 0.18, 0.02, 0.08, 0.01],
                        itemStyle: { 
                            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                                { offset: 0, color: '#e67e22' },
                                { offset: 1, color: '#d35400' }
                            ]),
                            borderRadius: [5, 5, 0, 0]
                        },
                        emphasis: {
                            itemStyle: {
                                shadowBlur: 10,
                                shadowColor: 'rgba(230, 126, 34, 0.5)'
                            }
                        }
                    }
                ],
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '15%',
                    top: '15%',
                    containLabel: true
                }
            };

            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }

        function initializeGlobalChannelChart() {
            const dom = document.getElementById('globalChannelChart');
            if (!dom) return;

            const chart = echarts.init(dom);
            
            const option = {
                backgroundColor: 'transparent',
                title: {
                    text: '多元化出海渠道探索',
                    left: 'center',
                    textStyle: { 
                        color: '#2c3e50', 
                        fontSize: 16 
                    }
                },
                tooltip: {
                    trigger: 'item',
                    backgroundColor: 'rgba(255,255,255,0.95)',
                    borderColor: '#3498db',
                    textStyle: { color: '#2c3e50' },
                    formatter: '{b}: {c}%'
                },
                series: [{
                    type: 'pie',
                    radius: ['40%', '80%'],
                    center: ['50%', '50%'],
                    avoidLabelOverlap: false,
                    itemStyle: {
                        borderRadius: 10,
                        borderColor: '#fff',
                        borderWidth: 2
                    },
                    label: {
                        show: true,
                        position: 'outside',
                        color: '#2c3e50',
                        formatter: '{b}\n{c}%',
                        fontSize: 12,
                        fontWeight: 'bold'
                    },
                    labelLine: {
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.5)' 
                        }
                    },
                    emphasis: {
                        label: {
                            show: true,
                            fontSize: 16,
                            fontWeight: 'bold'
                        },
                        itemStyle: {
                            shadowBlur: 10,
                            shadowColor: 'rgba(0, 0, 0, 0.2)'
                        }
                    },
                    data: [
                        { 
                            value: 45, 
                            name: 'Netflix', 
                            itemStyle: { color: '#3498db' },
                            emphasis: {
                                itemStyle: {
                                    shadowBlur: 15,
                                    shadowColor: 'rgba(52, 152, 219, 0.5)'
                                }
                            }
                        },
                        { 
                            value: 25, 
                            name: 'YouTube', 
                            itemStyle: { color: '#e67e22' },
                            emphasis: {
                                itemStyle: {
                                    shadowBlur: 15,
                                    shadowColor: 'rgba(230, 126, 34, 0.5)'
                                }
                            }
                        },
                        { 
                            value: 15, 
                            name: 'Amazon', 
                            itemStyle: { color: '#27ae60' },
                            emphasis: {
                                itemStyle: {
                                    shadowBlur: 15,
                                    shadowColor: 'rgba(39, 174, 96, 0.5)'
                                }
                            }
                        },
                        { 
                            value: 8, 
                            name: 'Crunchyroll', 
                            itemStyle: { color: '#f39c12' },
                            emphasis: {
                                itemStyle: {
                                    shadowBlur: 15,
                                    shadowColor: 'rgba(243, 156, 18, 0.5)'
                                }
                            }
                        },
                        { 
                            value: 7, 
                            name: '其他平台', 
                            itemStyle: { color: '#e74c3c' },
                            emphasis: {
                                itemStyle: {
                                    shadowBlur: 15,
                                    shadowColor: 'rgba(231, 76, 60, 0.5)'
                                }
                            }
                        }
                    ]
                }]
            };

            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }

        function initializeCulturalImpactChart() {
            const dom = document.getElementById('culturalImpactChart');
            if (!dom) return;

            const chart = echarts.init(dom);
            
            const option = {
                backgroundColor: 'transparent',
                title: {
                    text: '票房与影响力矩阵分析',
                    left: 'center',
                    textStyle: { 
                        color: '#2c3e50', 
                        fontSize: 20,
                        fontWeight: 'bold'
                    }
                },
                tooltip: {
                    backgroundColor: 'rgba(255,255,255,0.95)',
                    borderColor: '#3498db',
                    borderWidth: 2,
                    textStyle: { color: '#2c3e50' },
                    formatter: function(params) {
                        return `<strong>${params.seriesName}</strong><br/>${params.data.name}<br/>票房: <span style="font-weight:bold">${params.data.value[0]}亿元</span><br/>文化影响力: <span style="font-weight:bold">${params.data.value[1]}分</span>`;
                    }
                },
                legend: {
                    data: ['中国作品', '日本作品', '美国作品'],
                    bottom: 0,
                    textStyle: { 
                        color: '#7f8c8d',
                        fontSize: 12
                    }
                },
                xAxis: {
                    type: 'value',
                    name: '本土票房(亿元)',
                    nameTextStyle: { 
                        color: '#7f8c8d',
                        fontSize: 14
                    },
                    axisLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.3)' 
                        } 
                    },
                    axisLabel: { 
                        color: '#7f8c8d',
                        fontSize: 12
                    },
                    splitLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.1)',
                            type: 'dashed'
                        } 
                    }
                },
                yAxis: {
                    type: 'value',
                    name: '文化影响力指数',
                    nameTextStyle: { 
                        color: '#7f8c8d',
                        fontSize: 14
                    },
                    axisLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.3)' 
                        } 
                    },
                    axisLabel: { 
                        color: '#7f8c8d',
                        fontSize: 12
                    },
                    splitLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.1)',
                            type: 'dashed'
                        } 
                    }
                },
                series: [
                    {
                        name: '中国作品',
                        type: 'scatter',
                        symbolSize: function(data) {
                            return Math.sqrt(data[0]) * 8;
                        },
                        itemStyle: {
                            color: '#3498db',
                            opacity: 0.8,
                            shadowBlur: 5,
                            shadowColor: 'rgba(0, 0, 0, 0.2)'
                        },
                        emphasis: {
                            scale: 1.5,
                            itemStyle: {
                                opacity: 1,
                                shadowBlur: 10,
                                shadowColor: 'rgba(0, 0, 0, 0.3)'
                            }
                        },
                        data: [
                            { name: '哪吒', value: [50.35, 65] },
                            { name: '姜子牙', value: [16.02, 58] },
                            { name: '大圣归来', value: [9.56, 72] },
                            { name: '白蛇缘起', value: [4.68, 55] },
                            { name: '罗小黑战记', value: [3.15, 62] },
                            { name: '风语咒', value: [1.12, 48] },
                            { name: '大鱼海棠', value: [5.64, 60] },
                            { name: '大护法', value: [0.87, 52] }
                        ]
                    },
                    {
                        name: '日本作品',
                        type: 'scatter',
                        symbolSize: function(data) {
                            return Math.sqrt(data[0]) * 8;
                        },
                        itemStyle: {
                            color: '#e67e22',
                            opacity: 0.8,
                            shadowBlur: 5,
                            shadowColor: 'rgba(0, 0, 0, 0.2)'
                        },
                        emphasis: {
                            scale: 1.5,
                            itemStyle: {
                                opacity: 1,
                                shadowBlur: 10,
                                shadowColor: 'rgba(0, 0, 0, 0.3)'
                            }
                        },
                        data: [
                            { name: '你的名字', value: [5.77, 88] },
                            { name: '千与千寻', value: [4.89, 95] },
                            { name: '天气之子', value: [2.88, 82] },
                            { name: '铃芽之旅', value: [7.43, 85] }
                        ]
                    },
                    {
                        name: '美国作品',
                        type: 'scatter',
                        symbolSize: function(data) {
                            return Math.sqrt(data[0]) * 8;
                        },
                        itemStyle: {
                            color: '#27ae60',
                            opacity: 0.8,
                            shadowBlur: 5,
                            shadowColor: 'rgba(0, 0, 0, 0.2)'
                        },
                        emphasis: {
                            scale: 1.5,
                            itemStyle: {
                                opacity: 1,
                                shadowBlur: 10,
                                shadowColor: 'rgba(0, 0, 0, 0.3)'
                            }
                        },
                        data: [
                            { name: '疯狂动物城', value: [15.34, 85] },
                            { name: '寻梦环游记', value: [12.11, 88] },
                            { name: '冰雪奇缘2', value: [8.61, 80] },
                            { name: '玩具总动员4', value: [7.84, 78] }
                        ]
                    }
                ],
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '10%',
                    top: '15%',
                    containLabel: true
                }
            };

            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }

        function initializeGlobalStrategyChart() {
            const dom = document.getElementById('globalStrategyChart');
            if (!dom) return;

            const chart = echarts.init(dom);
            
            const option = {
                backgroundColor: 'transparent',
                title: {
                    text: '从单一销售到生态出海',
                    left: 'center',
                    textStyle: { 
                        color: '#2c3e50', 
                        fontSize: 20,
                        fontWeight: 'bold'
                    }
                },
                tooltip: {
                    trigger: 'axis',
                    backgroundColor: 'rgba(255,255,255,0.95)',
                    borderColor: '#3498db',
                    textStyle: { color: '#2c3e50' }
                },
                legend: {
                    data: ['版权销售', '合作制作', '直接投资', '生态布局'],
                    bottom: 0,
                    textStyle: { 
                        color: '#7f8c8d',
                        fontSize: 12
                    }
                },
                xAxis: {
                    type: 'category',
                    data: ['2015', '2016', '2017', '2018', '2019', '2020', '2021', '2022', '2023', '2024E'],
                    axisLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.3)' 
                        } 
                    },
                    axisLabel: { 
                        color: '#7f8c8d',
                        fontSize: 12
                    }
                },
                yAxis: {
                    type: 'value',
                    name: '收入规模(亿元)',
                    nameTextStyle: { 
                        color: '#7f8c8d',
                        fontSize: 14
                    },
                    axisLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.3)' 
                        } 
                    },
                    axisLabel: { 
                        color: '#7f8c8d',
                        fontSize: 12
                    },
                    splitLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.1)',
                            type: 'dashed'
                        } 
                    }
                },
                series: [
                    {
                        name: '版权销售',
                        type: 'line',
                        smooth: true,
                        symbol: 'circle',
                        symbolSize: 8,
                        data: [8.5, 9.2, 10.1, 11.3, 12.8, 14.2, 15.6, 16.8, 18.2, 19.5],
                        lineStyle: {
                            color: '#3498db',
                            width: 3,
                            shadowBlur: 5,
                            shadowColor: 'rgba(52, 152, 219, 0.3)'
                        },
                        areaStyle: { 
                            color: 'rgba(52, 152, 219, 0.3)' 
                        },
                        emphasis: {
                            scale: 1.5,
                            itemStyle: {
                                borderColor: '#fff',
                                borderWidth: 2
                            }
                        }
                    },
                    {
                        name: '合作制作',
                        type: 'line',
                        smooth: true,
                        symbol: 'circle',
                        symbolSize: 8,
                        data: [2.1, 2.8, 3.5, 4.6, 6.2, 8.5, 11.3, 14.8, 18.6, 23.2],
                        lineStyle: {
                            color: '#e67e22',
                            width: 3,
                            shadowBlur: 5,
                            shadowColor: 'rgba(230, 126, 34, 0.3)'
                        },
                        areaStyle: { 
                            color: 'rgba(230, 126, 34, 0.3)' 
                        },
                        emphasis: {
                            scale: 1.5,
                            itemStyle: {
                                borderColor: '#fff',
                                borderWidth: 2
                            }
                        }
                    },
                    {
                        name: '直接投资',
                        type: 'line',
                        smooth: true,
                        symbol: 'circle',
                        symbolSize: 8,
                        data: [1.2, 1.5, 2.1, 3.2, 4.8, 6.5, 8.9, 11.7, 15.3, 19.8],
                        lineStyle: {
                            color: '#27ae60',
                            width: 3,
                            shadowBlur: 5,
                            shadowColor: 'rgba(39, 174, 96, 0.3)'
                        },
                        areaStyle: { 
                            color: 'rgba(39, 174, 96, 0.3)' 
                        },
                        emphasis: {
                            scale: 1.5,
                            itemStyle: {
                                borderColor: '#fff',
                                borderWidth: 2
                            }
                        }
                    },
                    {
                        name: '生态布局',
                        type: 'line',
                        smooth: true,
                        symbol: 'circle',
                        symbolSize: 8,
                        data: [0.3, 0.5, 0.8, 1.2, 2.1, 3.8, 5.6, 8.2, 11.5, 15.8],
                        lineStyle: {
                            color: '#f39c12',
                            width: 3,
                            shadowBlur: 5,
                            shadowColor: 'rgba(243, 156, 18, 0.3)'
                        },
                        areaStyle: { 
                            color: 'rgba(243, 156, 18, 0.3)' 
                        },
                        emphasis: {
                            scale: 1.5,
                            itemStyle: {
                                borderColor: '#fff',
                                borderWidth: 2
                            }
                        }
                    }
                ],
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '10%',
                    top: '15%',
                    containLabel: true
                }
            };

            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }

        function initializeMarketAdaptationChart() {
            const dom = document.getElementById('marketAdaptationChart');
            if (!dom) return;

            const chart = echarts.init(dom);
            
            const option = {
                backgroundColor: 'transparent',
                title: {
                    text: '目标市场适应性分析',
                    left: 'center',
                    textStyle: { 
                        color: '#2c3e50', 
                        fontSize: 20 
                    }
                },
                tooltip: {
                    trigger: 'axis',
                    backgroundColor: 'rgba(255,255,255,0.95)',
                    borderColor: '#3498db',
                    textStyle: { color: '#2c3e50' },
                    formatter: function(params) {
                        let result = `<strong>${params[0].name}</strong><br/>`;
                        params.forEach(item => {
                            result += `${item.marker} ${item.seriesName}: <span style="font-weight:bold">${item.value}%</span><br/>`;
                        });
                        return result;
                    }
                },
                legend: {
                    data: ['文化接受度', '市场潜力', '竞争强度'],
                    bottom: 0,
                    textStyle: { 
                        color: '#7f8c8d',
                        fontSize: 12
                    }
                },
                xAxis: {
                    type: 'category',
                    data: ['东南亚', '北美', '欧洲', '日韩', '南美', '中东', '非洲'],
                    axisLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.3)' 
                        } 
                    },
                    axisLabel: { 
                        color: '#7f8c8d',
                        fontSize: 12,
                        interval: 0,
                        rotate: 30
                    }
                },
                yAxis: {
                    type: 'value',
                    name: '评分(%)',
                    nameTextStyle: { 
                        color: '#7f8c8d',
                        fontSize: 14
                    },
                    axisLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.3)' 
                        } 
                    },
                    axisLabel: { 
                        color: '#7f8c8d',
                        fontSize: 12
                    },
                    splitLine: { 
                        lineStyle: { 
                            color: 'rgba(52, 152, 219, 0.1)',
                            type: 'dashed'
                        } 
                    }
                },
                series: [
                    {
                        name: '文化接受度',
                        type: 'bar',
                        data: [85, 45, 38, 28, 65, 42, 35],
                        itemStyle: { 
                            color: '#3498db',
                            borderRadius: [5, 5, 0, 0]
                        },
                        emphasis: {
                            itemStyle: {
                                shadowBlur: 10,
                                shadowColor: 'rgba(52, 152, 219, 0.5)'
                            }
                        }
                    },
                    {
                        name: '市场潜力',
                        type: 'bar',
                        data: [78, 82, 75, 85, 58, 48, 32],
                        itemStyle: { 
                            color: '#e67e22',
                            borderRadius: [5, 5, 0, 0]
                        },
                        emphasis: {
                            itemStyle: {
                                shadowBlur: 10,
                                shadowColor: 'rgba(230, 126, 34, 0.5)'
                            }
                        }
                    },
                    {
                        name: '竞争强度',
                        type: 'line',
                        smooth: true,
                        symbol: 'circle',
                        symbolSize: 8,
                        data: [45, 85, 72, 95, 38, 52, 28],
                        lineStyle: {
                            color: '#27ae60',
                            width: 3,
                            shadowBlur: 5,
                            shadowColor: 'rgba(39, 174, 96, 0.3)'
                        },
                        emphasis: {
                            scale: 1.5,
                            itemStyle: {
                                borderColor: '#fff',
                                borderWidth: 2
                            }
                        }
                    }
                ],
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '10%',
                    top: '15%',
                    containLabel: true
                }
            };

            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }

        function initializeCommunicationStrategyChart() {
            const dom = document.getElementById('communicationStrategyChart');
            if (!dom) return;

            const chart = echarts.init(dom);
            
            const option = {
                backgroundColor: 'transparent',
                title: {
                    text: '跨文化传播策略地图',
                    left: 'center',
                    textStyle: { 
                        color: '#2c3e50', 
                        fontSize: 20 
                    }
                },
                tooltip: {
                    trigger: 'item',
                    backgroundColor: 'rgba(255,255,255,0.95)',
                    borderColor: '#3498db',
                    textStyle: { color: '#2c3e50' },
                    formatter: function(params) {
                        return `<strong>${params.name}</strong><br/>重要性: <span style="font-weight:bold">${params.value}%</span><br/>难度: ${params.data.difficulty}`;
                    }
                },
                series: [{
                    type: 'treemap',
                    width: '90%',
                    height: '80%',
                    roam: false,
                    nodeClick: false,
                    breadcrumb: {
                        show: false
                    },
                    label: {
                        show: true,
                        color: '#fff',
                        fontSize: 14,
                        fontWeight: 'bold',
                        formatter: function(params) {
                            return params.name + '\n' + params.value + '%';
                        }
                    },
                    itemStyle: {
                        borderColor: '#fff',
                        borderWidth: 2,
                        gapWidth: 2,
                        borderRadius: 5
                    },
                    emphasis: {
                        label: {
                            fontSize: 16
                        },
                        itemStyle: {
                            shadowBlur: 20,
                            shadowColor: 'rgba(0, 0, 0, 0.3)'
                        }
                    },
                    data: [
                        {
                            name: '本土化改编',
                            value: 35,
                            difficulty: '高',
                            itemStyle: { color: '#3498db' }
                        },
                        {
                            name: '文化元素提取',
                            value: 25,
                            difficulty: '中',
                            itemStyle: { color: '#e67e22' }
                        },
                        {
                            name: '国际团队制作',
                            value: 20,
                            difficulty: '高',
                            itemStyle: { color: '#27ae60' }
                        },
                        {
                            name: '多语言配音',
                            value: 12,
                            difficulty: '低',
                            itemStyle: { color: '#f39c12' }
                        },
                        {
                            name: '全球同步发行',
                            value: 8,
                            difficulty: '中',
                            itemStyle: { color: '#e74c3c' }
                        },
                        {
                            name: '跨国营销推广',
                            value: 15,
                            difficulty: '高',
                            itemStyle: { color: '#9b59b6' }
                        },
                        {
                            name: '国际IP合作',
                            value: 10,
                            difficulty: '高',
                            itemStyle: { color: '#1abc9c' }
                        },
                        {
                            name: '文化桥梁建设',
                            value: 18,
                            difficulty: '中',
                            itemStyle: { color: '#34495e' }
                        }
                    ]
                }],
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    top: '15%',
                    containLabel: true
                }
            };

            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }

        // ==========================================================================
        // 交互功能实现
        // ==========================================================================
        function updateScaleCharts() {
            const yearRange = document.getElementById('yearRange').value;
            const dataType = document.getElementById('dataType').value;
            const compareBase = document.getElementById('compareBase').value;
            
            // 模拟数据更新
            console.log(`Updating charts: ${yearRange}, ${dataType}, ${compareBase}`);
            
            // 重新渲染图表
            try {
                initializeScaleGrowthChart();
                initializeIndustryStructureChart();
                initializeCnJpComparisonChart();
                
                // 显示更新成功提示
                errorHandler.show('数据更新成功', 2000);
            } catch (error) {
                errorHandler.handleChartError('scaleCharts', error);
            }
        }

        function filterExperienceData() {
            const ipType = document.getElementById('experienceIpType').value;
            const cityLevel = document.getElementById('cityLevel').value;
            const venueType = document.getElementById('venueType').value;
            
            console.log(`Filtering experience data: ${ipType}, ${cityLevel}, ${venueType}`);
            
            try {
                // 重新渲染相关图表
                initializeParkDistributionChart();
                initializeVisitorProfileChart();
                initializeExperienceComparisonChart();
                
                errorHandler.show('筛选成功', 2000);
            } catch (error) {
                errorHandler.handleChartError('experienceCharts', error);
            }
        }

        function setupChartInteractions() {
            // 图表联动配置
            const charts = echarts.getInstanceByDom ? 
                document.querySelectorAll('.chart').forEach(dom => {
                    const chart = echarts.getInstanceByDom(dom);
                    if (chart) {
                        chart.on('click', function(params) {
                            console.log('Chart clicked:', params);
                            // 实现图表间联动逻辑
                        });
                    }
                }) : null;
        }

        // ==========================================================================
        // 页面滚动与动画管理
        // ==========================================================================
        function handleScrollAnimations() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            });

            // 观察所有需要动画的元素
            document.querySelectorAll('.fade-in, .slide-in-left, .slide-in-right, .scale-in').forEach(el => {
                observer.observe(el);
            });
        }

        function updateProgressBar() {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrollPercent = (scrollTop / scrollHeight) * 100;
            document.getElementById('progressBar').style.width = scrollPercent + '%';
        }

        function handleNavbarScroll() {
            const navbar = document.getElementById('navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        }

        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // ==========================================================================
        // 页面初始化主函数
        // ==========================================================================
        document.addEventListener('DOMContentLoaded', async function() {
            try {
                // 启动加载动画
                await pageLoader.start();

                // 延迟确保资源加载
                await new Promise(resolve => setTimeout(resolve, 1500));

                // 初始化所有图表
                initializeAllCharts();

                // 设置滚动监听
                window.addEventListener('scroll', () => {
                    updateProgressBar();
                    handleNavbarScroll();
                });

                // 设置动画观察器
                handleScrollAnimations();

                // 完成加载
                await pageLoader.complete();

                // 显示欢迎提示
                setTimeout(() => {
                    errorHandler.show('报告加载完成，开始您的数据探索之旅！', 3000);
                }, 500);

            } catch (error) {
                console.error('页面初始化失败:', error);
                errorHandler.show('页面加载失败，请刷新页面重试');
            }
        });

        // ==========================================================================
        // 错误处理与性能监控
        // ==========================================================================
        window.addEventListener('error', function(event) {
            console.error('全局错误捕获:', event.error);
            errorHandler.show('系统错误，部分功能可能无法正常使用');
        });

        window.addEventListener('unhandledrejection', function(event) {
            console.error('未处理的Promise拒绝:', event.reason);
            errorHandler.show('数据加载失败，请检查网络连接');
        });

        // 性能监控
        if (window.performance) {
            window.addEventListener('load', function() {
                const perfData = window.performance.timing;
                const loadTime = perfData.loadEventEnd - perfData.navigationStart;
                console.log(`页面加载时间: ${loadTime}ms`);
                
                if (loadTime > 3000) {
                    console.warn('页面加载较慢，建议优化资源');
                }
            });
        }

        // 响应式处理
        window.addEventListener('resize', function() {
            // 防抖处理
            clearTimeout(window.resizeTimeout);
            window.resizeTimeout = setTimeout(() => {
                console.log('窗口大小改变，重新渲染图表');
                // 图表会自动响应resize事件
            }, 250);
        });

        // ==========================================================================
        // 键盘快捷键支持
        // ==========================================================================
        document.addEventListener('keydown', function(event) {
            // Ctrl/Cmd + 数字键 快速跳转章节
            if (event.ctrlKey || event.metaKey) {
                switch(event.key) {
                    case '1':
                        event.preventDefault();
                        document.getElementById('development').scrollIntoView({ behavior: 'smooth' });
                        break;
                    case '2':
                        event.preventDefault();
                        document.getElementById('scale').scrollIntoView({ behavior: 'smooth' });
                        break;
                    case '3':
                        event.preventDefault();
                        document.getElementById('ip').scrollIntoView({ behavior: 'smooth' });
                        break;
                    case '4':
                        event.preventDefault();
                        document.getElementById('experience').scrollIntoView({ behavior: 'smooth' });
                        break;
                    case '5':
                        event.preventDefault();
                        document.getElementById('global').scrollIntoView({ behavior: 'smooth' });
                        break;
                }
            }
            
            // Home键返回顶部
            if (event.key === 'Home') {
                event.preventDefault();
                scrollToTop();
            }
        });

        // 导出全局函数供HTML调用
        window.updateScaleCharts = updateScaleCharts;
        window.filterExperienceData = filterExperienceData;
        window.scrollToTop = scrollToTop;
    </script>
</body>
</html>
